(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2154],{30709:function(e,t){"use strict";t.Z={src:"https://psc2.cf2.poecdn.net/c2c34f1010b57486c49b0d930ea1de61a21d57a8/_next/static/media/appIcon.a60ab9b3.png",height:360,width:360,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAA00lEQVR42gHIADf/AIRD3nlG12Mxz1Asxj0uvjY+tkdhuEd0wACXQuiJNOKUb9+ReNqJeNR4b8xAObtFUrcApTDxsnrw5Nn45Nr34tr139nzinvUSjPCAMFy+ufX+8GR9L2Z77qZ7ayQ5t7X84lz1wDEZf7jyP3Pm/rNpvfKpfXCo/DZyvSTZeAAyzH/yXD+9e3+69j+6tv859b7p1vuki7nAPBN/uJu/9iN/70o/rtA/bQ0+a889ahE8QD/TOv6TvroQ//XUv7HRv+/Q/67Qvy0QPhx+oMV6QCWUQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},8607:function(e,t,n){"use strict";var r,i;n.r(t);let a={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"handle"}],kind:"Fragment",metadata:null,name:"pagesBotNameQuery",selections:i=[{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"pagesBotNameQuery",selections:i},params:{id:"a156136af92b189768540f864445f0b8d9191584530def6b1a5502c843539cfb",metadata:{},name:"pagesBotNameQuery",operationKind:"query",text:null}};a.hash="55fbc91fd319e06b9d2f53f4b97d79a0",t.default=a},48842:function(e,t,n){"use strict";function cloudflareLoader(e){let{src:t}=e;return t}n.r(t),n.d(t,{default:function(){return cloudflareLoader}})},6793:function(e,t,n){"use strict";n.d(t,{Dl:function(){return redirectToLoginPageForSocialSignupAttemptMissingBirthday},Ho:function(){return redirectToLoginPageForSocialSignupAttemptMissingEmail},PW:function(){return redirectToDesktopAppLoggedOutPage},SN:function(){return setRedirectUrlQueryParamForCurrentUrl},Sh:function(){return useOnLoginSuccess},Tt:function(){return getLoginUrlForEmbedPage},X0:function(){return redirectToLoginPage},b8:function(){return redirectToLoggedInHomePage},bU:function(){return _},bl:function(){return a},dh:function(){return removeRedirectUrlQueryParamFromCurrentUrl},gA:function(){return getRedirectUrlFromSignupLoginResponse},gS:function(){return getDefaultUserVerificationErrorMessage},gW:function(){return getDesktopAppOpenPageUrl},h2:function(){return hasUserStartedSignupFlow},n$:function(){return o},o1:function(){return maybeGetRedirectUrl},q2:function(){return k},qN:function(){return redirectToLoginPageForAppleSignupObfuscatedEmail},yn:function(){return getDefaultLoginErrorMessage}});var r,i,a,o,u=n(11163),l=n(67294),d=n(22120),s=n(2197),c=n(90289),g=n(66795),p=n(53533),f=n(46857),m=n(75408),y=n(90578),h=n(50530);let getDefaultUserVerificationErrorMessage=e=>e("Something went wrong. Please wait a moment and try again."),getDefaultLoginErrorMessage=e=>e("An error occurred, please try again."),S="apple_optional_email",A="missing_email",b="missing_birthday",P="signup_method",_="redirect_url",redirectToLoginPageForAppleSignupObfuscatedEmail=(e,t)=>{redirectToLoginPage(e,t,{[S]:"1"})},redirectToLoginPageForSocialSignupAttemptMissingBirthday=(e,t,n)=>{redirectToLoginPage(e,n,{[b]:"1",[P]:t})},hasUserStartedSignupFlow=e=>"/login"===e.pathname&&("1"===e.query[b]||"1"===e.query[A]||"1"===e.query[S]||!!e.query[P]),redirectToLoginPageForSocialSignupAttemptMissingEmail=(e,t)=>{redirectToLoginPage(e,t,{[A]:"1"})},redirectToLoginPage=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.replace({pathname:"/login",query:{...n,[_]:null!=t?t:"/"}})},redirectToDesktopAppOpenPage=(e,t)=>{let n=getDesktopAppOpenPageUrl(t);e.replace(n)},redirectToDesktopAppLoggedOutPage=e=>e.replace("/desktop_app_logged_out"),maybeGetDesktopAppLoginRequestCode=e=>{let t=e.query.desktop_app_login_request_code;if((0,h.HD)(t)&&t.length>0)return t},setRedirectUrlQueryParamForCurrentUrl=(e,t)=>{e.replace({query:{...e.query,[_]:t}})},removeRedirectUrlQueryParamFromCurrentUrl=e=>{let t={...e.query};delete t[_],e.replace({query:t})},getLoginUrlForEmbedPage=()=>"/login?".concat(_,"=").concat(encodeURIComponent("/close_window")),getDesktopAppOpenPageUrl=e=>"/desktop_app_open?desktop_app_login_request_code=".concat(encodeURIComponent(e)),redirectToLoggedInHomePage=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.replace(t?"/?".concat("login_success","=1"):"/")},maybeGetRedirectUrl=e=>{let t=e.query[_];if((0,h.HD)(t)&&t.length>0)return t},getRedirectUrlFromSignupLoginResponse=e=>{let{redirectChatCode:t,redirectUrl:n}=e;if(t)return"/chat/".concat(t);if(n){let e=n.split("?")[1];if(e){let t=new URLSearchParams(e).get(_);if(t)return t}}return null!=n?n:void 0},useOnLoginSuccess=()=>{let{t:e}=(0,d.$G)(),t=(0,u.useRouter)(),n=(0,m.AO)(),r=(0,s.ZP)(),i=(0,g.q)(),a=(0,l.useCallback)(t=>r({content:t?e("You have successfully signed up"):e("You have successfully logged in"),type:s.pC.success}),[r,e]);return(0,l.useCallback)(async e=>{let{isSignUp:r,isEligibleForRedirectToLoggedInHomePage:o=!0,showLoginSuccessToastAfterRedirectingToHomePage:u=!1,redirectUrl:l=maybeGetRedirectUrl(t),loginRequestCode:d=maybeGetDesktopAppLoginRequestCode(t)}=e;if(r?await (0,f.hP)("sng_complete_registration"):await (0,f.hP)("sng_login"),await (0,p.sr)(),await (0,y.FV)(),d){a(!1),redirectToDesktopAppOpenPage(t,d);return}l?(l===t.asPath&&a(r),await t.replace(l)):o?redirectToLoggedInHomePage(t,u):a(r),i(),(0,c.E)(),n(!0)},[t,n,i,a])};(r=a||(a={}))[r.loginStarted=0]="loginStarted",r[r.signupStarted=1]="signupStarted",r[r.signupContinued=2]="signupContinued",r[r.signupContinuedCodeSent=3]="signupContinuedCodeSent",r[r.signupContinuedBirthdayRequired=4]="signupContinuedBirthdayRequired",(i=o||(o={}))[i.emailAddress=0]="emailAddress",i[i.phoneNumber=1]="phoneNumber";let k=/^[0-9]{6,}$/i},6938:function(e,t,n){"use strict";n.d(t,{H:function(){return createSSRRelayPage},Y:function(){return i}});var r,i,a=n(85893),o=n(8607),u=n(41143),l=n.n(u),d=n(67294),s=n(22578),c=n(44311),g=n(6793),p=n(43007);n(8607),(r=i||(i={}))[r.loggedInOnly=0]="loggedInOnly",r[r.loggedOutOnly=1]="loggedOutOnly",r[r.loggedInAndLoggedOut=2]="loggedInAndLoggedOut";let createSSRRelayPage=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{acceptableLoginStatus:i=2,additionalProps:u={}}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},getServerSideProps=async e=>{let a,d,s,c;let{fetchPayload:p,GraphQLResponseError:f}=await n.e(3829).then(n.bind(n,3829));try{a="function"==typeof r?r(e):r}catch(e){return console.error(e),{notFound:!0}}try{let n=await p(e.req,t,a);d=n.data,c=n.extensions.uid,s="errors"in n?n.errors:void 0}catch(t){if(t instanceof f&&4===Math.floor(t.statusCode/100)){if(console.error(t),404==t.statusCode)return{notFound:!0};throw e.res.statusCode=t.statusCode,e.res.end(),t}if(t instanceof f&&504==t.statusCode)throw e.res.statusCode=504,e.res.end(),t;throw t}let m=e.req.url||"";if(!c&&0===i){if(!("handle"in a))return{redirect:{destination:"/login?redirect_url=".concat(encodeURIComponent(e.resolvedUrl)),permanent:!1}};{if(m.startsWith("/embed/")&&e.query.showLoginPageIfLoggedOut)return{redirect:{destination:"/login?redirect_url=".concat(encodeURIComponent("/embed/".concat(a.handle))),permanent:!1}};let t=o.default,n=t.params.text,r=t.params.id;l()(n||r,"Bot Name Query Text and Hash are null");let{data:i}=await p(e.req,t,{handle:a.handle});if((null==i?void 0:i.bot)&&!m.startsWith("/embed"))return{redirect:{destination:"/universal_link_page?handle=".concat(encodeURIComponent(a.handle)),permanent:!1}}}}if(c&&1===i)return e.query.handle?m.startsWith("/embed_logged_out")?{redirect:{destination:"/embed/".concat(encodeURIComponent(String(e.query.handle))),permanent:!1}}:{redirect:{destination:"/".concat(encodeURIComponent(String(e.query.handle))),permanent:!1}}:c&&e.query.desktop_app_login_request_code&&m.startsWith("/login")?{redirect:{destination:(0,g.gW)(String(e.query.desktop_app_login_request_code)),permanent:!1}}:{redirect:{destination:"/",permanent:!1}};let y="function"==typeof u?u(e):u;return{props:{data:d,...s?{errors:s}:{},queryVariables:a,additionalProps:y,uid:null!=c?c:null}}};return[n=>{let{data:r,queryVariables:i,additionalProps:o}=n,u=(0,p.a)(),l=(0,s.useRelayEnvironment)();(0,d.useMemo)(()=>{if(r){let e=(0,c.createOperationDescriptor)(t,i);l.commitPayload(e,r)}},[r,l,i]);let g=(0,d.useMemo)(()=>(0,s.loadQuery)(l,t,null!=i?i:{}),[l,i]);return(0,d.useEffect)(()=>{u()},[r,i,u]),(0,a.jsx)(d.Suspense,{fallback:null,children:(0,a.jsx)(e,{queryRef:g,additionalProps:o})})},getServerSideProps]}},46857:function(e,t,n){"use strict";let r;n.d(t,{Rz:function(){return useInitSingular},h0:function(){return getSingularDeviceId},hP:function(){return singularEvent}});var i=n(67294);let a="quora_b_46ba1291c98480d9dde6fed2b16c7cae__90053357",o="aff4cbc69cc3fee7a3b851fb6c40fed3",u="com.poe",initSingular=async()=>{await loadAndInitSingularSdk()},useInitSingular=()=>{(0,i.useEffect)(()=>{initSingular()},[])},loadAndInitSingularSdk=async()=>(r||(r=_loadAndInitSingularSdk()),await r),_loadAndInitSingularSdk=async()=>{let e=await n.e(8961).then(n.t.bind(n,58961,23)),{singularSdk:t,SingularConfig:r}=e;return await new Promise(e=>{if(t&&r&&a&&o&&u){let n=new r(a,o,u);n.withInitFinishedCallback(()=>e()),t.init(n)}}),e},singularEvent=async e=>{let t=await loadAndInitSingularSdk();return t.singularSdk.event(e)},getSingularDeviceId=async()=>{let e=await loadAndInitSingularSdk();return e.singularSdk.getSingularDeviceId()}},9008:function(e,t,n){e.exports=n(34605)}}]);