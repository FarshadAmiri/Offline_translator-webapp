(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8111],{58669:function(a,e,l){"use strict";l.r(e);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_OptimisticChatHeader_viewer",selections:[{args:null,kind:"FragmentSpread",name:"ChatHeader_viewer"}],type:"Viewer",abstractKey:null};n.hash="f1e3559f1366b5ad73cbf03fbf266265",e.default=n},35568:function(a,e,l){"use strict";l.r(e);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatPageMain_bot"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{args:null,kind:"FragmentSpread",name:"optimisticChat_useOptimisticChat_bot"}],type:"Bot",abstractKey:null};n.hash="b4b4694ef0d6ceeb9450fa988cf68a74",e.default=n},26665:function(a,e,l){"use strict";l.r(e);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HandleBotLandingPageInner_chatEdges",selections:[{args:null,kind:"FragmentSpread",name:"OptimisticChatPageMain_chatEdges"}],type:"ChatEdge",abstractKey:null};n.hash="147b547d96229c7df9235714972d3481",e.default=n},58315:function(a,e,l){"use strict";l.r(e);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_viewer",selections:[{args:null,kind:"FragmentSpread",name:"OptimisticChatPageMain_viewer"},{args:null,kind:"FragmentSpread",name:"SprigSurvey_viewer"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_viewer"},{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_OptimisticChatHeader_viewer"}],type:"Viewer",abstractKey:null};n.hash="0fc77c16d5a82ff02ae3b42e88daaf2b",e.default=n},87430:function(a,e,l){"use strict";var n,i,s,t,r,u,o,d,g,c,m,y,k,p;l.r(e);let F=(n=[{defaultValue:null,kind:"LocalArgument",name:"botHandle"}],i=[{kind:"Variable",name:"name",variableName:"botHandle"}],s={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},m={kind:"TypeDiscriminator",abstractKey:"__isNode"},y=[{kind:"Literal",name:"first",value:1},r={kind:"Variable",name:"handle",variableName:"botHandle"}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"HandleBotLandingPageQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,t,{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_bot"}],storageKey:null},{alias:"chats",args:[r],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_chatEdges"},u,{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[o],storageKey:null}],storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[g],storageKey:null},{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"HandleBotLandingPageQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,t,c,{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowsImageAttachments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOfficialBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsFileUpload",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowsClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversationStarters",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},g,m],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldHideLimitedAccessTag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mayHaveSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsFollower",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareLink",storageKey:null},m],storageKey:null},{alias:null,args:y,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g,o],storageKey:null},u,g],storageKey:null},d,g],storageKey:null},{alias:null,args:y,filters:["handle"],handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[g,k={alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},{alias:"allowImages",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images")'},{alias:"allowImagesForApiBots",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images_for_api_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images_for_api_bots")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:"enableMessageCitation",args:p=[{kind:"Literal",name:"gateName",value:"poe_message_citation_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_citation_web")'},{alias:"enableMath",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_markdown_math"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_markdown_math")'},{alias:null,args:null,kind:"ScalarField",name:"promptBotImageDomainWhitelist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasActiveSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleToPurchaseOnAnyPlatform",storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},k,{alias:"enableResendButton",args:[{kind:"Literal",name:"gateName",value:"poe_resend_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_resend_button_web")'},{alias:"useBotRecencyOrder",args:[{kind:"Literal",name:"gateName",value:"poe_your_bots_recency_ranking_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_your_bots_recency_ranking_web")'},{alias:"retryButtonEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_message_retry_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_message_retry_button")'},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"shouldShowCitation",args:p,kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_citation_web")'},{alias:"enableImageAttachmentsForBots",args:[{kind:"Literal",name:"gateName",value:"poe_enable_image_attachments_for_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_image_attachments_for_bots")'},{alias:"showTruncationWarning",args:[{kind:"Literal",name:"gateName",value:"poe_show_truncation_warning"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_truncation_warning")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},{alias:"enableBotMetadata",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_metadata_user_view"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_metadata_user_view")'},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeAndroidSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showConversationStarters",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[c,g],storageKey:null},{alias:"useShareButtonRedesign",args:[{kind:"Literal",name:"gateName",value:"poe_share_button_redesign"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_share_button_redesign")'},{alias:"improvePrivacyConfidence",args:[{kind:"Literal",name:"gateName",value:"poe_improve_privacy_confidency"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_improve_privacy_confidency")'},g],storageKey:null}]},params:{id:"9f4902ac6fc46ff59e35e198c463f65e4072a8ae2f9127fb47cccf5e261a888e",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["chats"]}]},name:"HandleBotLandingPageQuery",operationKind:"query",text:null}});F.hash="e21ce7320e04ea28d023dac62cf3bc9b",e.default=F},34253:function(a,e,l){"use strict";var n,i,s,t;l.r(e);let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHeader_chat"}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOfficialBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},s,t={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},t],storageKey:null}]}]},params:{cacheID:"d940a28fe531437684fe7263121ea42b",id:null,metadata:{},name:"HandleBotOptimisticChatHeaderQuery",operationKind:"query",text:null}};r.hash="ccb42017d2fad2fb8bdc3521c4a4a5bd",e.default=r},56352:function(a,e,l){"use strict";var n,i,s,t,r,u,o,d,g;l.r(e);let c={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"OptimisticChatPageMainQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_chat"}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"OptimisticChatPageMainQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowsImageAttachments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canSendMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOfficialBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsFileUpload",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowsClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversationStarters",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},s,r={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldHideLimitedAccessTag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mayHaveSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasMarkdownRendering",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},s],storageKey:null},{alias:null,args:g=[{kind:"Literal",name:"last",value:5}],concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textLengthOnCancellation",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timeoutLevel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attachmentTruncationState",storageKey:null},{alias:null,args:null,concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mimeType",storageKey:null},o,s],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isInline",storageKey:null}],type:"MessageAttachment",abstractKey:null}],type:"Attachment",abstractKey:"__isAttachment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientNonce",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCitations",storageKey:null},u,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},s],storageKey:"messagesConnection(last:5)"},{alias:null,args:g,filters:null,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},r],storageKey:null}]}]},params:{cacheID:"6bfbdaf91296d5f97c1569126c70383d",id:null,metadata:{},name:"OptimisticChatPageMainQuery",operationKind:"query",text:null}};c.hash="5c437a8d087843ccbf8dbd501ba55146",e.default=c},88593:function(a,e,l){"use strict";l.r(e);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"OptimisticChatPageMain_chatEdges",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_chatEdges"}],type:"ChatEdge",abstractKey:null};n.hash="c277a063d0a7edce0bdedd70c44bd153",e.default=n},50509:function(a,e,l){"use strict";l.r(e);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OptimisticChatPageMain_viewer",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_viewer"}],type:"Viewer",abstractKey:null};n.hash="ab46e6124989588c4c69b76f108e6bd0",e.default=n},48111:function(a,e,l){"use strict";l.r(e),l.d(e,{BotLandingPageInner:function(){return BotLandingPageInner},BotPageLazyChatLoaders:function(){return BotPageLazyChatLoaders},checkLoggedOutUsageEligibilityAndThrowRedirectionError:function(){return checkLoggedOutUsageEligibilityAndThrowRedirectionError},default:function(){return H},getBotHandle:function(){return getBotHandle},useArgs:function(){return useArgs}});var n=l(85893),i=l(5152),s=l.n(i),t=l(11163),r=l(67294),u=l(22578);l(44311);var o=l(64180),d=l(57890),g=l(41143),c=l.n(g),m=l(57138),y=l(82505),chat_OptimisticChatPageMain=a=>{let{optimisticChatId:e,chats:i,viewer:s}=a,o=(0,u.useFragment)(l(50509),s),d=(0,u.useFragment)(l(88593),i),{optimisticChat:g}=(0,u.useLazyLoadQuery)(l(56352),{optimisticChatId:e});if(!g)throw new m.TX;let k=(0,t.useRouter)(),p=(0,r.useCallback)(a=>{let{messageEdgeCreate:e}=a,l=e.chat;c()(l,"chat is null"),k.push({pathname:k.pathname,query:{...k.query,chat:l.chatCode,botId:l.defaultBotObject.botId}},"/chat/".concat(l.chatCode),{shallow:!0})},[k]);return(0,n.jsx)(y.Z,{chat:g,chats:d,viewer:o,onSuccessfulMessageSend:p})},k=l(42050),p=l(2012),F=l(35409),S=l(50515),K=l(75704),h=l(10060),b=l(6890),_=l(55554),L=l(16221),f=l(38726),w=l(46857),C=l(77573),v=l(50530),B=l(20308),T=l(21127),N=l.n(T);let useArgs=()=>{let a=(0,t.useRouter)(),{botId:e,chat:l}=a.query;if(!(0,v.HD)(e))return null;let n=parseInt(e);return isNaN(n)?null:(0,v.HD)(l)?{chatCode:l,botId:n}:null},I=s()(()=>Promise.all([l.e(278),l.e(8985),l.e(2533)]).then(l.bind(l,58985)),{loadableGenerated:{webpack:()=>[58985]},ssr:!1}),BotPageLazyChatLoaders=()=>{let a=(0,B.Z)(),e=useArgs();return a?(0,n.jsx)(I,{...e}):null},getBotHandle=a=>{let e=null==a?void 0:a.handle;if(!(0,v.HD)(e))throw new m.TX;return{botHandle:e}},throwRedirectionErrorForBotHandle=a=>{throw new m.dD("/universal_link_page?handle=".concat(encodeURIComponent(a)))},checkLoggedOutUsageEligibilityAndThrowRedirectionError=a=>{let{isLoggedIn:e,isLoggedOutUsageEnabled:l,isBotEligibleForLoggedOutUsage:n,botHandle:i}=a;e||l&&n||throwRedirectionErrorForBotHandle(i)},OptimisticChatHeader=a=>{let{optimisticChatId:e,viewer:i}=a,{optimisticChat:s}=(0,u.useLazyLoadQuery)(l(34253),{optimisticChatId:e}),t=(0,u.useFragment)(l(58669),i);if(!s)throw new m.TX;return(0,n.jsx)(o.Z,{chat:s,viewer:t})},BotLandingPageInner=a=>{let{viewer:e,bot:i,optimisticChatId:s,chats:o}=a,{isLoggedInUser:g}=(0,p.b)(),c=(0,t.useRouter)(),{shouldShowSignupWall:y,openSignupWall:h}=(0,F.zl)(),[L,f]=(0,r.useState)(!0);if(!i)throw new m.TX;let v=(0,u.useFragment)(l(35568),i),B=(0,u.useFragment)(l(26665),o),T=(0,u.useFragment)(l(58315),e);g||v.isEligibleForLoggedOutUsage||throwRedirectionErrorForBotHandle(v.displayName),(0,b.v)({isLoggedIn:g,onCompleted:(a,e)=>{a?(f(!1),e&&y&&h()):c.replace("/universal_link_page?handle=".concat(encodeURIComponent(v.displayName)))}}),(0,w.Rz)(),(0,C.f)(T);let I=(0,_.t)(v,s);return!g&&L?(0,n.jsx)("div",{className:N().loadingDotsContainer,children:(0,n.jsx)(K.ZP,{})}):(0,n.jsxs)(k.Z,{header:(0,n.jsx)(d.Z,{viewer:T,bot:v,useChatTitle:!0,children:(0,n.jsx)(OptimisticChatHeader,{optimisticChatId:I,viewer:T})}),startAtBottom:!0,children:[(0,n.jsx)(S.Z,{title:"Poe - "+v.displayName}),(0,n.jsx)(chat_OptimisticChatPageMain,{optimisticChatId:I,viewer:T,chats:B})]})},P=(0,L.x)((0,h.Z)((0,f.i)(a=>{let{data:e}=a,l=useArgs();return(0,n.jsxs)(n.Fragment,{children:[!l&&(0,n.jsx)(BotLandingPageInner,{bot:e.bot,chats:e.chats.edges,viewer:e.viewer}),(0,n.jsx)(BotPageLazyChatLoaders,{})]})},{query:l(87430),variables:getBotHandle,onServerResponse:a=>{var e,l;if(!(null===(e=a.data)||void 0===e?void 0:e.bot)||!(null===(l=a.data)||void 0===l?void 0:l.viewer))throw new m.TX;let{bot:n,viewer:i}=a.data;i.poeUser||n.isEligibleForLoggedOutUsage||throwRedirectionErrorForBotHandle(n.displayName)}},{}),getBotHandle));var H=P},21127:function(a){a.exports={loadingDotsContainer:"BotLandingPage_loadingDotsContainer__nmb5z"}}}]);