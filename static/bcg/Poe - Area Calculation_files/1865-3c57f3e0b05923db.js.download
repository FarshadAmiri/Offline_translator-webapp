(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1865],{36411:function(e,t,a){"use strict";var n,l=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M7.692 21.714h9.222c1.798 0 2.692-.916 2.692-2.732v-7.925c0-1.126-.13-1.615-.825-2.331l-4.784-4.897c-.66-.68-1.208-.829-2.18-.829H7.692C5.903 3 5 3.925 5 5.74v13.242c0 1.825.894 2.732 2.692 2.732Zm.06-1.405c-.894 0-1.354-.48-1.354-1.353V5.767c0-.864.46-1.362 1.363-1.362h3.865v5.072c0 1.1.547 1.64 1.632 1.64h4.95v7.84c0 .872-.46 1.352-1.363 1.352H7.753Zm5.663-10.51c-.348 0-.478-.139-.478-.488V4.676L17.94 9.8h-4.524Z"})))}},9274:function(e,t,a){"use strict";var n,l=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("circle",{fill:"#666",cx:12,cy:8,r:1}),l.createElement("path",{d:"M12 11.5v5M10.263 4.539 3.71 16.008A2 2 0 0 0 5.446 19h13.108a2 2 0 0 0 1.736-2.992l-6.554-11.47a2 2 0 0 0-3.473 0Z",stroke:"#666",strokeWidth:1.5,strokeLinecap:"round"}))))}},57758:function(e,t,a){"use strict";var n,l=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M2.5 8.38c0 .26.1.51.29.71l8.5 8.5c.39.39 1.02.39 1.41 0l8.5-8.5a.996.996 0 1 0-1.41-1.41L12 15.46 4.2 7.67a.996.996 0 0 0-1.41 0c-.19.2-.29.45-.29.71Z"})))}},99240:function(e,t,a){"use strict";var n,l,s=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=s.createElement("path",{d:"M19.5 21h-15c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1s1 .45 1 1v2h13v-2c0-.55.45-1 1-1s1 .45 1 1v3c0 .55-.45 1-1 1Z"})),l||(l=s.createElement("path",{d:"M12 16.5c-.25 0-.48-.09-.65-.24-.01-.01-.02-.01-.02-.02l-6.05-5.5a.997.997 0 1 1 1.34-1.48L11 13.24V4c0-.55.45-1 1-1s1 .45 1 1v9.23l4.38-3.97a.997.997 0 1 1 1.34 1.48l-5.98 5.43c-.18.2-.44.33-.74.33Z"})))}},48824:function(e,t,a){"use strict";var n,l,s=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=s.createElement("path",{d:"M16.5 21H4c-.55 0-1-.45-1-1V7.5c0-.55.45-1 1-1h6.5c.55 0 1 .45 1 1s-.45 1-1 1H5V19h10.5v-5.5c0-.55.45-1 1-1s1 .45 1 1V20c0 .55-.45 1-1 1Z"})),l||(l=s.createElement("path",{d:"M12 13c-.26 0-.51-.1-.71-.29a.996.996 0 0 1 0-1.41l6.79-6.79H14.5c-.55 0-1-.45-1-1s.45-1 1-1h6c.13 0 .26.03.38.08.12.03.23.11.33.2.1.09.17.21.21.33.05.12.08.24.08.38v6c0 .55-.45 1-1 1s-1-.45-1-1V5.91l-6.79 6.79c-.2.2-.45.3-.71.3Z"})))}},64811:function(e,t,a){"use strict";var n,l,s=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",_extends({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=s.createElement("path",{d:"M12.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"})),l||(l=s.createElement("path",{clipRule:"evenodd",d:"M12 11.5v5-5ZM12 3a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9Z"})))}},93416:function(e,t,a){"use strict";var n,l=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=l.createElement("path",{d:"M3.964 19.418v-.001l1.41-4.249a.48.48 0 0 1 .119-.194l9.9-9.9a2.5 2.5 0 0 1 3.533 0c.975.974.975 2.558.009 3.533v.001l-9.899 9.898a.479.479 0 0 1-.194.12h-.001l-4.226 1.415a.66.66 0 0 1-.175.029.509.509 0 0 1-.357-.144.488.488 0 0 1-.119-.508Zm4.323-1.663.112-.038.084-.083 9.73-9.73a1.508 1.508 0 0 0 .005-2.123l-.005-.005a1.508 1.508 0 0 0-2.127 0l-9.73 9.73-.084.084-.037.113-.47 1.42-.097.293.218.218.47.47.218.218.293-.097 1.42-.47Z"})))}},10234:function(e,t,a){"use strict";var n,l,s;a.r(t);let r={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"apiKey"},l={defaultValue:null,kind:"LocalArgument",name:"apiUrl"}],kind:"Fragment",metadata:null,name:"BotInfoFormRunCheckMutation",selections:s=[{alias:null,args:[{kind:"Variable",name:"apiKey",variableName:"apiKey"},{kind:"Variable",name:"apiUrl",variableName:"apiUrl"}],concreteType:"PoeApiBotCheck",kind:"LinkedField",name:"poeApiBotCheck",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n],kind:"Operation",name:"BotInfoFormRunCheckMutation",selections:s},params:{id:"87d55551061151b852fd7c53ec34dbb1ae784516b0ba2df5255b201f0d4e1444",metadata:{},name:"BotInfoFormRunCheckMutation",operationKind:"mutation",text:null}};r.hash="85d27b82d4fd13f566ee65accac9aa48",t.default=r},18361:function(e,t,a){"use strict";var n,l,s,r;a.r(t);let o={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"introduction"},l={defaultValue:null,kind:"LocalArgument",name:"name"}],kind:"Fragment",metadata:null,name:"BotInfoForm_NumTokensFromIntroductionQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"name",variableName:"name"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[r={alias:null,args:[{kind:"Variable",name:"introduction",variableName:"introduction"}],kind:"ScalarField",name:"numTokensFromIntroduction",storageKey:null}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n],kind:"Operation",name:"BotInfoForm_NumTokensFromIntroductionQuery",selections:[{alias:null,args:s,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"a14003d9c0b40fbb6a5c7416cb4476ea8f70192ec7ca4cacfae16db8609cd837",metadata:{},name:"BotInfoForm_NumTokensFromIntroductionQuery",operationKind:"query",text:null}};o.hash="a77a9caf2fc37ffea5f9cc206865f178",t.default=o},37448:function(e,t,a){"use strict";var n,l,s;a.r(t);let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"name"},{defaultValue:null,kind:"LocalArgument",name:"prompt"}],kind:"Fragment",metadata:null,name:"BotInfoForm_NumTokensFromPromptQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"name",variableName:"name"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s={alias:null,args:[{kind:"Variable",name:"promptString",variableName:"prompt"}],kind:"ScalarField",name:"numTokensFromPrompt",storageKey:null}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"BotInfoForm_NumTokensFromPromptQuery",selections:[{alias:null,args:l,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"1d9bef79811f3b2ddca5ce4027b7eaa31a51bbeed1edf8b6f72e2e0d09d80609",metadata:{},name:"BotInfoForm_NumTokensFromPromptQuery",operationKind:"query",text:null}};r.hash="c355b5c97c7bb740df616722222304cc",t.default=r},62483:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoForm_PromptFields_bot",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_bot"}],type:"Bot",abstractKey:null};n.hash="556c1d686a9313686a1cc66d116129e5",t.default=n},21910:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoForm_PromptFields_viewer",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_viewer"}],type:"Viewer",abstractKey:null};n.hash="e68e80728122c943c598e9626e5e02bf",t.default=n},77412:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoForm_bot",selections:[{args:null,kind:"FragmentSpread",name:"BotInfoForm_PromptFields_bot"}],type:"Bot",abstractKey:null};n.hash="8024cea564dadc2d1fca4357a9c0b012",t.default=n},61471:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoForm_viewer",selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"botsAllowedForUserCreation",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowsUserCreation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxTokensForPrompt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxTokensForIntroduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modelDefaultTemperature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modelMaxTemperature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showAdvancedFieldsAsBaseBot",storageKey:null}],storageKey:null},{alias:"enablePromptBotsPrivacySetting",args:[{kind:"Literal",name:"gateName",value:"enable_prompt_bots_privacy_setting"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"enable_prompt_bots_privacy_setting")'},{alias:"enablePromptBotCustomTemperature",args:[{kind:"Literal",name:"gateName",value:"poe_enable_prompt_bot_custom_temperature"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_prompt_bot_custom_temperature")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},{alias:null,args:null,kind:"ScalarField",name:"isEnrolledInRevshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeRevshareEntryPoints",storageKey:null},{alias:"showKnowledgeBaseSection",args:[{kind:"Literal",name:"gateName",value:"poe_enable_knowledge_sources"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_knowledge_sources")'},{alias:"canEditMessagePrice",args:[{kind:"Literal",name:"gateName",value:"poe_revshare_message_prices"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_revshare_message_prices")'},{args:null,kind:"FragmentSpread",name:"BotInfoForm_PromptFields_viewer"}],type:"Viewer",abstractKey:null};n.hash="2e58b01eb41d6870da9856d9965405ff",t.default=n},55465:function(e,t,a){"use strict";var n,l,s,r,o;a.r(t);let i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:5,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"KnowledgeBaseSectionPaginationQuery",selections:[{alias:null,args:l=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:s=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"KnowledgeBaseSection_KnowledgeSourceList_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"KnowledgeBaseSectionPaginationQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"KnowledgeSourceConnection",kind:"LinkedField",name:"knowledgeSourceConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"KnowledgeSourceEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"knowledgeSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isKnowledgeSource"},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastUpdatedTime",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"state",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"highLevelState",storageKey:null}],storageKey:null},o,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},o],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"KnowledgeBaseSection_knowledgeSourceConnection",kind:"LinkedHandle",name:"knowledgeSourceConnection"},{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null}],type:"Bot",abstractKey:null}],storageKey:null}]},params:{id:"2a8bf3210a1903e8b8f1837276a2f34ceace3530f8082660685d72659e216434",metadata:{},name:"KnowledgeBaseSectionPaginationQuery",operationKind:"query",text:null}};i.hash="914657cbca816e5d1461a65a7a802913",t.default=i},26501:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeBaseSection_AddKnowledgeSourceButton_bot",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_useRemainingKnowledgeBaseSize_bot"}],type:"Bot",abstractKey:null};n.hash="ec0ace05af8c0477783b724662aaae85",t.default=n},65822:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeBaseSection_AddKnowledgeSourceButton_viewer",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_useRemainingKnowledgeBaseSize_viewer"}],type:"Viewer",abstractKey:null};n.hash="cca2517ef94c78a83727923fdf6fdbf5",t.default=n},69687:function(e,t,a){"use strict";var n;a.r(t);let l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:5,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:n=["knowledgeSourceConnection"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:n},fragmentPathInResult:["node"],operation:a(55465),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"KnowledgeBaseSection_KnowledgeSourceList_bot",selections:[{alias:"knowledgeSourceConnection",args:null,concreteType:"KnowledgeSourceConnection",kind:"LinkedField",name:"__KnowledgeBaseSection_knowledgeSourceConnection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"KnowledgeSourceEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"knowledgeSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItem_knowledgeSource"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_ViewAllButton_bot"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Bot",abstractKey:null};l.hash="914657cbca816e5d1461a65a7a802913",t.default=l},97128:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeBaseSection_ViewAllButton_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null}],type:"Bot",abstractKey:null};n.hash="c6222a4c8c168f2d44c15574b8fa0a02",t.default=n},88048:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeBaseSection_bot",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_KnowledgeSourceList_bot"},{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_AddKnowledgeSourceButton_bot"}],type:"Bot",abstractKey:null};n.hash="617ef0eacc914d884671826f59298f43",t.default=n},779:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeBaseSection_useRemainingKnowledgeBaseSize_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"knowledgeBaseSize",storageKey:null}],type:"Bot",abstractKey:null};n.hash="c2df20da4e10d16da327926656cb097f",t.default=n},78311:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeBaseSection_useRemainingKnowledgeBaseSize_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"knowledgeBaseSizeLimit",storageKey:null}],type:"Viewer",abstractKey:null};n.hash="4e42e61b36bd2904f7df3f23d68afb1c",t.default=n},78042:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeBaseSection_viewer",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeBaseSection_AddKnowledgeSourceButton_viewer"}],type:"Viewer",abstractKey:null};n.hash="5eda258ccd85ea50e4cd58d6661b35a6",t.default=n},91553:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeSourceListItemBase_knowledgeSource",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastUpdatedTime",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"highLevelState",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItem_useKnowledgeSourceStateText_knowledgeSource"}],type:"KnowledgeSource",abstractKey:"__isKnowledgeSource"};n.hash="cf352a1e15632042d9922029ba416438",t.default=n},64103:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeSourceListItem_editKnowledgeSourceButton_knowledgeSource",selections:[{alias:null,args:null,kind:"ScalarField",name:"knowledgeSourceId",storageKey:null}],type:"KnowledgeSource",abstractKey:"__isKnowledgeSource"};n.hash="278d9283cc9a5c22dc9ec86dd61ad2f8",t.default=n},53167:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeSourceListItem_fileUploadKnowledgeSource",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItemBase_knowledgeSource"}],type:"FileUploadKnowledgeSource",abstractKey:null};n.hash="dd393bc8e663b066ff045ea15745b64f",t.default=n},26289:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeSourceListItem_knowledgeSource",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"knowledgeSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItem_unknown_knowledgeSource"},{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItem_textInputKnowledgeSource"},{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItem_fileUploadKnowledgeSource"},{args:null,kind:"FragmentSpread",name:"IdAnnotation_node"}],type:"KnowledgeSource",abstractKey:"__isKnowledgeSource"};n.hash="0a1a90f49707391d763e5326e4beaadd",t.default=n},87424:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeSourceListItem_textInputKnowledgeSource",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItemBase_knowledgeSource"},{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItem_editKnowledgeSourceButton_knowledgeSource"}],type:"TextInputKnowledgeSource",abstractKey:null};n.hash="dcb4a825c37a7f5222e83365c188d459",t.default=n},445:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeSourceListItem_unknown_knowledgeSource",selections:[{args:null,kind:"FragmentSpread",name:"KnowledgeSourceListItemBase_knowledgeSource"}],type:"KnowledgeSource",abstractKey:"__isKnowledgeSource"};n.hash="233eb7c9e4e5bcb068a4ea7061a2cf9a",t.default=n},97602:function(e,t,a){"use strict";a.r(t);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KnowledgeSourceListItem_useKnowledgeSourceStateText_knowledgeSource",selections:[{alias:null,args:null,kind:"ScalarField",name:"lastUpdatedTime",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"KnowledgeSource",abstractKey:"__isKnowledgeSource"};n.hash="7f98f473950b72ed16279e9085ed7ea2",t.default=n},48640:function(e,t,a){"use strict";a.d(t,{y:function(){return ErrorText},Z:function(){return creation_BotInfoForm}});var n,l,s,r=a(85893),o=a(41664),i=a.n(o),c=a(65607),u=a(67294),d=a(87536),m=a(22120),g=a(22578),p=a(86894),_=a(71035),h=a(69295),b=a(30885),f=a(41019),v=a(46079),x=a(67242),w=a(5409),k=a(28288),S=a(57758);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var desktop=function(e){return u.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=u.createElement("path",{d:"M19.88 3H4.12C2.95 3 2 3.95 2 5.12v10.42c0 1.17.95 2.12 2.12 2.12H11v1.83H8.06c-.55 0-1 .45-1 1s.45 1 1 1h7.7c.55 0 1-.45 1-1s-.45-1-1-1H13v-1.83h6.88c1.17 0 2.12-.95 2.12-2.12V5.12C22 3.95 21.05 3 19.88 3ZM20 15.54c0 .07-.06.12-.12.12H4.12c-.06.01-.12-.05-.12-.12V5.12c0-.06.06-.12.12-.12h15.75c.07 0 .13.06.13.12v10.42Z"})))},y=a(48824),F=a(64811),I=a(37650),j=a(34616),B=a(74929),K=a(80393),T=a(37115),N=a(55179),Z=a.n(N),L=a(85649),C=a(72589);(n=s||(s={})).success="success",n.invalid_settings="invalid_settings",n.timed_out="timed_out",n.other_failure="other_failure";var M=s,P=a(18974),E=a(49145),A=a(24415),R=a(75704),D=a(47392);let importViewAllModal=()=>a.e(2067).then(a.bind(a,62067)),importAddKnowledgeSourceModal=()=>a.e(6470).then(a.bind(a,56470)),ViewAllButton=e=>{let{bot:t,newSources:n,removeSource:l,removedSources:s}=e,o=(0,g.useFragment)(a(97128),t),[i,c]=(0,u.useState)(!1),d=(0,u.useCallback)(()=>c(!0),[]),p=(0,u.useCallback)(()=>c(!1),[]),_=(0,u.useMemo)(()=>({botId:(null==o?void 0:o.botId)||null,newSources:n,removeSource:l,removedSources:s}),[o,n,l,s]),{t:b}=(0,m.$G)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.t9,{type:"button",onClick:d,children:b("View all")}),(0,r.jsx)(f.Z,{isOpen:i,body:importViewAllModal,bodyProps:_,onRequestClose:p})]})},useRemainingKnowledgeBaseSize=(e,t)=>{let n=(0,g.useFragment)(a(779),e),{knowledgeBaseSizeLimit:l}=(0,g.useFragment)(a(78311),t),{watch:s}=(0,d.Gc)(),r=s("knowledgeSourcesToAdd")||[],o=s("knowledgeSourcesToRemove")||[],i=r.reduce((e,t)=>e+("knowledgeSourceId"in t?t.size:t.file.size),0),c=o.reduce((e,t)=>e+t.size,0);return l-((null==n?void 0:n.knowledgeBaseSize)||0)-i+c},AddKnowledgeSourceButton=e=>{let{bot:t,viewer:n,disabled:l=!1}=e,s=(0,g.useFragment)(a(26501),t),o=(0,g.useFragment)(a(65822),n),i=useRemainingKnowledgeBaseSize(s,o),[c,p]=(0,u.useState)(!1),_=(0,u.useCallback)(()=>p(!0),[]),b=(0,u.useCallback)(()=>p(!1),[]),{getValues:v,setValue:x}=(0,d.Gc)(),w=(0,u.useCallback)(e=>{let t=v("knowledgeSourcesToAdd")||[];x("knowledgeSourcesToAdd",[...e,...t]),e.forEach(e=>{"knowledgeSourceId"in e||e.uploadPromise.then(t=>{let a=v("knowledgeSourcesToAdd")||[],n=a.findIndex(t=>"file"in t&&t.file===e.file);-1!==n?x("knowledgeSourcesToAdd",[...a.slice(0,n),t,...a.slice(n+1)]):x("knowledgeSourcesToAdd",[...a,t])})})},[v,x]),k=(0,u.useMemo)(()=>({closeModal:function(){let{newSources:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&w(e),p(!1)},remainingKnowledgeBaseSize:i}),[p,w,i]),{t:S}=(0,m.$G)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.PL,{type:"button",icon:(0,r.jsx)(D.Z,{}),onClick:_,disabled:l||i<=0,children:S("Add knowledge source")}),(0,r.jsx)(f.Z,{isOpen:c,body:importAddKnowledgeSourceModal,bodyProps:k,onRequestClose:b,showCloseButton:!1})]})},KnowledgeSourceList=e=>{let{bot:t,hasKnowledgeSourcesRef:n}=e,{t:l}=(0,m.$G)(),{data:s,loadNext:o,isLoadingNext:i,hasNext:c}=(0,g.usePaginationFragment)(a(69687),t),{getValues:p,setValue:_,watch:h,register:b,trigger:f}=(0,d.Gc)(),v=h("knowledgeSourcesToAdd")||[],x=h("knowledgeSourcesToRemove")||[],k=(0,u.useCallback)(e=>{let[t,a]=p(["knowledgeSourcesToAdd","knowledgeSourcesToRemove"]);"knowledgeSourceId"in e?t&&t.some(t=>"knowledgeSourceId"in t&&t.knowledgeSourceId===e.knowledgeSourceId)?_("knowledgeSourcesToAdd",t.filter(t=>!("knowledgeSourceId"in t)||t.knowledgeSourceId!==e.knowledgeSourceId)):a&&a.some(t=>t.knowledgeSourceId==e.knowledgeSourceId)||_("knowledgeSourcesToRemove",[...a||[],e]):_("knowledgeSourcesToAdd",(null==t?void 0:t.filter(t=>"knowledgeSourceId"in t||t.file!==e.file))||[])},[p,_]),S=null==s?[]:s.knowledgeSourceConnection.edges.map(e=>e.node),y=[...v,...S].filter(e=>!("knowledgeSourceId"in e)||!x.some(t=>t.knowledgeSourceId===e.knowledgeSourceId));(0,u.useEffect)(()=>{let e=y.length>0;e!==n.current&&(n.current=e,f("prompt"))},[y.length,n,f]);let F=y.slice(0,5);return(0,u.useEffect)(()=>{F.length<5&&c&&o(5-F.length)},[F.length,c,o]),(0,r.jsxs)(r.Fragment,{children:[F.map(e=>"knowledgeSourceId"in e?(0,r.jsx)(E.Z,{knowledgeSource:e,removeSource:k},e.knowledgeSourceId):(0,r.jsx)(A.Z,{upload:e,removeSource:k},e.key)),i&&(0,r.jsx)(R.Sz,{}),(c||y.length>5)&&(0,r.jsx)(ViewAllButton,{bot:s,newSources:v,removeSource:k,removedSources:x}),(0,r.jsx)(w.Z,{...b("shouldCiteSources"),label:l("Cite sources"),hidden:0===y.length})]})};var creation_KnowledgeBaseSection=e=>{let{viewer:t,bot:n,hasKnowledgeSourcesRef:l,errorMessage:s}=e,o=(0,g.useFragment)(a(88048),n),i=(0,g.useFragment)(a(78042),t),{t:c}=(0,m.$G)();return(0,r.jsxs)("section",{className:Z().section,children:[(0,r.jsx)("h3",{className:Z().sectionTitle,children:c("Knowledge base")}),(0,r.jsx)("p",{className:Z().subtext,children:c("Provide custom knowledge that your bot will access to inform its responses. Your bot will retrieve relevant sections from the knowledge base based on the user message.")}),(0,r.jsx)(KnowledgeSourceList,{bot:o,hasKnowledgeSourcesRef:l}),(0,r.jsx)(AddKnowledgeSourceButton,{bot:o,viewer:i,disabled:!!s}),s&&(0,r.jsx)(ErrorText,{children:s})]})};let V=(0,C.A)(L.Z.chinchilla),O="https://developer.poe.com/server-bots/quick-start",importReminderModalBody=()=>a.e(6008).then(a.bind(a,56008)),U={2:(0,r.jsx)(i(),{href:O,target:"_blank",className:Z().subtextLinkNoFlex})},useValidateUrl=()=>{let{t:e}=(0,m.$G)();return t=>{try{if(t&&t.length>1e3)return e("URL must be less than 1000 characters.");let a=new URL(t);if("https:"!==a.protocol)return e("Please use URL with https protocol.");let n=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!n.test(t)||e("Please enter a valid URL.")}catch(t){return e("Please enter a valid URL.")}}},G={apiBotTutorialUrl:O},ErrorText=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:Z().errorText,children:t})};function makeBytesLengthValidator(e,t){return a=>new TextEncoder().encode(a).length<e||t}let CommonFields=e=>{let{register:t,profilePictureUrl:a,decoupleBotHandleAndName:n,handleErrorMessage:l,nameErrorMessage:s}=e,{t:o}=(0,m.$G)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{defaultSrc:a||c.Z,imageClassName:Z().botImageSelector,...t("image")}),n&&(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:o("Display name")}),(0,r.jsx)("input",{className:Z().input,...t("name",{required:{value:!0,message:o("Display name is required.")},maxLength:{value:20,message:o("Display name should be 20 or fewer characters.")}})}),s&&(0,r.jsx)(ErrorText,{children:s})]}),(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:o("Handle")}),(0,r.jsx)("div",{className:Z().subtext,children:o("Should be unique and use 4-20 characters, including letters, numbers, dashes and underscores.")}),(0,r.jsx)("input",{className:Z().input,...t("handle",{required:{value:!0,message:o("Handle is required.")},maxLength:{value:20,message:o("Handle should be 20 or fewer characters.")},minLength:{value:4,message:o("Handle should be 4 or more characters.")},pattern:{value:/^[A-Za-z0-9_-]{4,20}$/,message:o("Handle should be unique and use 4-20 characters, including letters, numbers, dashes and underscores.")}})}),l&&(0,r.jsx)(ErrorText,{children:l})]})]})},BotPrivacySetting=e=>{let{register:t}=e,{t:a}=(0,m.$G)();return(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:a("Access")}),(0,r.jsx)("div",{className:Z().subtext,children:a("If this setting is enabled, the bot will be added to your profile and will be publicly accessible. Turning this off will make the bot private.")}),(0,r.jsx)(w.Z,{...t("botIsPublic"),label:a("Make bot publicly accessible")})]})},shouldShowMonetizationSetting=(e,t,a)=>t&&!(0,B.pE)(e)||a,MonetizationSetting=e=>{let{register:t,watch:a,isEnrolledInRevshare:n,canEditMessagePrice:l,priceErrorMessage:s}=e,{t:o}=(0,m.$G)(),c=a("customMessageLimit"),u=a("hasCustomMessageLimit"),d=a("messagePrice");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:Z().divider}),(0,r.jsx)("div",{className:Z().sectionGroupTitle,children:o("Monetization")}),(0,r.jsx)("div",{className:Z().section,children:n?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:Z().limitToggleContainer,children:[(0,r.jsx)(w.Z,{...t("hasCustomMessageLimit"),label:o("Maximum daily message limit")}),(0,r.jsx)("div",{className:Z().helpText,children:o("A paywall will appear once non-subscribed users hit this message limit while chatting with your bot. If you don't enable this, your custom bot automatically inherits the message limit from the base bot you select.")}),(0,r.jsxs)("div",{className:Z().messageLimitRange,"data-hidden":!u||void 0,children:[(0,r.jsx)("p",{children:o("Min: {{minMessageLimit}}",{minMessageLimit:0})}),(0,r.jsx)("p",{children:o("Max: {{maxMessageLimit}}",{maxMessageLimit:100})})]})]}),(0,r.jsxs)("div",{className:Z().messageLimitContainer,"data-hidden":!u||void 0,children:[(0,r.jsx)("input",{className:Z().messageLimitSlider,...t("customMessageLimit"),type:"range",min:0,max:100,step:"1",value:null!=c?c:"10"}),(0,r.jsx)("div",{className:u?Z().messageLimitValue:Z().disabledValue,children:null!=c?c:10})]}),l&&(0,r.jsxs)("div",{className:Z().priceSection,children:[(0,r.jsxs)("div",{className:Z().pricePerMessageRow,children:[(0,r.jsx)("div",{children:o("Price per thousand messages")}),(0,r.jsx)("div",{className:Z().preLaunchContainer,children:(0,r.jsx)(v.V,{label:o("Pre-launch access")})})]}),(0,r.jsx)("div",{className:Z().helpText,children:o("This is the amount you will be paid per thousand messages once this program starts. User-facing price or limits will adjust to cover this and maintenance costs (this includes any base bot or API bot called). Until launch, no earnings will accumulate.")}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:Z().priceInputContainer,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:(0,j.$)(Z().currencySymbol,!d&&Z().currencySymbolMuted),children:"$"}),(0,r.jsx)("input",{type:"number",value:d,step:"0.01",placeholder:"0.00",className:(0,j.$)(Z().input,Z().priceInput),maxLength:7,...t("messagePrice",{min:{value:0,message:o("Enter a price between $0.00 and $1000.00.")},max:{value:1e3,message:o("Enter a price between $0.00 and $1000.00.")},pattern:{value:/^(\d{1,4})?(\.\d{1,2})?$/,message:o("Enter a price with no more than 2 decimal places.")}})})]}),(0,r.jsx)("div",{className:Z().priceUnitText,children:o("per thousand messages")})]}),s&&(0,r.jsx)(ErrorText,{children:s})]}),(0,r.jsxs)("div",{className:Z().priceRange,"data-hidden":!u||void 0,children:[(0,r.jsx)("p",{children:o("Min: $0.00")}),(0,r.jsx)("p",{children:o("Max: $1,000.00")})]})]})]}):(0,r.jsx)("div",{className:Z().helpText,children:(0,r.jsxs)(m.cC,{i18nKey:"VisitCreatorsHint",children:["Visit"," ",(0,r.jsx)(i(),{href:"/creators",className:Z().creatorsLink,target:"_blank",children:"Creators"})," ","in the menu to learn more about creator monetization and unlock exclusive tools."]})})})]})},AdvancedFields=e=>{var t;let{startExpanded:a,register:n,watch:l,defaultTemperature:s,modelMaxTemperature:o,enableCustomTemperature:i}=e,{t:c}=(0,m.$G)(),[d,g]=(0,u.useState)(a),p=Z().chevronDown;d&&(p+=" "+Z().chevronDownExpanded);let _=(0,u.useCallback)(()=>{g(e=>!e)},[]),h=l("temperature"),b=l("hasCustomTemperature"),f=(null!==(t=Number(h))&&void 0!==t?t:Number(s)).toFixed(2);return(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsxs)("div",{className:Z().sectionTitleWithIcon,onClick:_,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:c("Advanced")}),(0,r.jsx)(S.Z,{className:p})]}),(0,r.jsxs)("div",{"data-hidden":!d||void 0,className:Z().toggleSection,children:[(0,r.jsx)(w.Z,{...n("hasSuggestedReplies"),label:c("Suggest replies")}),(0,r.jsx)(w.Z,{...n("hasMarkdownRendering"),label:c("Render markdown content")}),i&&(0,r.jsxs)("div",{className:Z().toggleContainer,children:[(0,r.jsx)(w.Z,{...n("hasCustomTemperature"),label:c("Custom temperature")}),(0,r.jsx)("div",{className:Z().helpText,children:c("Controls the creativity of the bot's responses. Higher values produce more varied but unpredictable replies, lower values generate more consistent responses.")}),(0,r.jsx)("div",{className:Z().defaultTemperatureText,children:c("Default: {{defaultTemp}}",{defaultTemp:s.toFixed(2)})})]}),i&&(0,r.jsxs)("div",{className:Z().temperatureContainer,"data-hidden":!b||void 0,children:[(0,r.jsx)("input",{className:Z().temperatureSlider,...n("temperature"),type:"range",min:"0",max:o,step:"0.01"}),(0,r.jsx)("div",{className:b?Z().temperatureValue:Z().disabledValue,children:f})]})]})]})},TabBarItem=e=>{let{text:t,isSelected:a,isApi:n,setShowApiFields:l,icon:s}=e,o=(0,u.useCallback)(()=>{l(n)},[n,l]);return(0,r.jsxs)("div",{className:(0,j.$)(Z().tabBarItem,a&&Z().tabBarItemSelected),onClick:o,children:[s,(0,r.jsx)("div",{children:t})]})},TabBar=e=>{let{showApiFields:t,setShowApiFields:a}=e,{t:n}=(0,m.$G)();return(0,r.jsxs)("div",{className:Z().tabBar,children:[(0,r.jsx)(TabBarItem,{text:n("Use prompt"),isSelected:!t,isApi:!1,setShowApiFields:a,icon:(0,r.jsx)(k.Z,{className:Z().tabBarItemIcon})}),(0,r.jsx)(TabBarItem,{text:n("Use server"),isSelected:t,isApi:!0,setShowApiFields:a,icon:(0,r.jsx)(desktop,{className:Z().tabBarItemIcon})})]})},fetchNumTokensForPrompt=(e,t,n,l)=>{n&&(0,g.fetchQuery)(e,a(37448),{name:t,prompt:n}).subscribe({next:e=>{let{bot:t}=e;(null==t?void 0:t.numTokensFromPrompt)&&l(Number(t.numTokensFromPrompt))}})},fetchNumTokensForIntroduction=(e,t,n,l)=>{n&&(0,g.fetchQuery)(e,a(18361),{name:t,introduction:n}).subscribe({next:e=>{let{bot:t}=e;(null==t?void 0:t.numTokensFromIntroduction)&&l(Number(t.numTokensFromIntroduction))}})},BotProfileSetting=e=>{let{register:t,watch:a,showPrivacySetting:n,bioErrorMessage:l}=e,{t:s}=(0,m.$G)(),o=a("description");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:Z().divider}),(0,r.jsx)("div",{className:Z().sectionGroupTitle,children:s("Bot profile")}),(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:s("Bio")}),(0,r.jsx)("textarea",{className:Z().textarea,placeholder:s("Describe what your bot does and what people can expect from it."),...t("description",{value:o,maxLength:{value:4e3,message:s("Bio should be less than 4000 characters.")}})})]}),(0,r.jsxs)("div",{className:Z().bioFooter,children:[l&&(0,r.jsx)(ErrorText,{children:l}),(0,r.jsx)("span",{className:l?Z().bioCounterError:Z().bioCounter,children:"".concat((null==o?void 0:o.length)||0," / 4000")})]}),n&&(0,r.jsx)(BotPrivacySetting,{register:t})]})},PromptFields=e=>{let{register:t,watch:n,trigger:l,setValue:s,availableBots:o,promptErrorMessage:c,introErrorMessage:d,bioErrorMessage:p,showApiFields:_,startAdvancedFieldsExpanded:h,showPrivacySetting:b,enableCustomTemperature:f,isEnrolledInRevshare:v,shouldSeeRevshareEntryPoints:k,showKnowledgeBaseSection:S,bot:j,viewer:B,canEditMessagePrice:K,priceErrorMessage:N}=e,{t:L}=(0,m.$G)(),C=(0,T.F)(),M=(0,g.useRelayEnvironment)(),E=(0,g.useFragment)(a(62483),j),A=(0,g.useFragment)(a(21910),B),[R,D]=(0,u.useState)(0),[V,O]=(0,u.useState)(0);(0,u.useState)(!1);let[U,G]=(0,u.useState)(),z=o.find(e=>e.model===n("baseBot")),q=null==z?void 0:z.modelDefaultTemperature,H=null==z?void 0:z.modelMaxTemperature,[$,Q]=(0,u.useState)(!!z&&z.limitedAccessType!==P.Z.no_limit),[Y,W]=(0,u.useState)(()=>(null==z?void 0:z.maxTokensForPrompt)||null),[J,X]=(0,u.useState)(()=>(null==z?void 0:z.maxTokensForIntroduction)||null),ee=(0,u.useCallback)(e=>{let t=e.target.options[e.target.selectedIndex],a=t.getAttribute("data-limited-access-type"),l="true"===t.getAttribute("data-is-sdxl-or-dalle3");Q(!!a&&a!==P.Z.no_limit&&!l);let r=o[e.target.selectedIndex];s("baseBot",r.model),s("baseBotId",r.botId);let i=n("prompt"),c=n("introduction");if(W((null==r?void 0:r.maxTokensForPrompt)||null),X((null==r?void 0:r.maxTokensForIntroduction)||null),null==r?void 0:r.baseModelDisplayName){var u;fetchNumTokensForPrompt(M,null==r?void 0:r.baseModelDisplayName,i,D),fetchNumTokensForIntroduction(M,null==r?void 0:r.baseModelDisplayName,c,O),s("temperature",null!==(u=r.modelDefaultTemperature)&&void 0!==u?u:0)}},[o,M,n,s]),et=(0,u.useRef)(!1),ea=(0,u.useCallback)(e=>{if(!e&&!et.current)return L("Prompt is required");if(Y&&R>Y)return L("The prompt you entered is {{numPromptTokensUsed, number}} tokens long but the limit is {{maxPromptTokens, number}}. Make your prompt shorter to continue.",{numPromptTokensUsed:R,maxPromptTokens:Y});if(null===Y){let t=makeBytesLengthValidator(2500,L("Prompt must be less than 2500 bytes."));return t(e)}return!0},[Y,R,L,et]),en=(0,u.useCallback)(e=>{let{target:t}=e,a=t.value;clearTimeout(U);let n=setTimeout(()=>{(null==z?void 0:z.baseModelDisplayName)&&fetchNumTokensForPrompt(M,z.baseModelDisplayName,a,D)},300);G(n)},[null==z?void 0:z.baseModelDisplayName,M,U]),el=(0,u.useCallback)(e=>{if(J&&V>J)return L("The greeting message you entered is {{numIntroductionTokensUsed, number}} tokens long but the limit is {{maxIntroductionTokens, number}}. Make your greeting message shorter to continue.",{numIntroductionTokensUsed:V,maxIntroductionTokens:J});if(null===J){let t=makeBytesLengthValidator(2500,L("Greeting message must be less than 2500 bytes."));return t(e)}return!0},[J,V,L]),es=(0,u.useCallback)(e=>{let{target:t}=e,a=t.value;clearTimeout(U);let n=setTimeout(()=>{(null==z?void 0:z.baseModelDisplayName)&&fetchNumTokensForIntroduction(M,z.baseModelDisplayName,a,O)},300);G(n)},[null==z?void 0:z.baseModelDisplayName,M,U]);(0,u.useEffect)(()=>{let e=n("prompt"),t=n("introduction"),a=n("baseBot"),l=o.find(e=>{let{model:t}=e;return t===a});(null==l?void 0:l.baseModelDisplayName)&&(fetchNumTokensForPrompt(M,null==l?void 0:l.baseModelDisplayName,e,D),fetchNumTokensForIntroduction(M,null==l?void 0:l.baseModelDisplayName,t,O))},[o,M,n]),(0,u.useEffect)(()=>{let e=n("prompt");e&&l("prompt")},[l,n,R]),(0,u.useEffect)(()=>{l("introduction")},[l,V]);let er=n("baseBotId"),eo=er===I.Rq,ei=er===I.Ag,ec=L("Prompt"),eu=L("Tell your bot how to behave and how to respond to user messages. Try to be as specific as possible."),ed="https://developer.poe.com/prompt-bots/best-practices-for-prompts/text-generation";eo&&(ec=L("Style prompt"),eu=L("Guide your bot on the artistic style and specific elements to incorporate when generating images. Specify which elements to avoid using the “--no” parameter at the end of the prompt. The style prompt should be worded as a description of the desired image, not as an instruction to the bot."),ed="https://developer.poe.com/prompt-bots/best-practices-for-prompts/image-generation"),ei&&(ec=L("Style prompt"),eu=L("Guide your bot on the artistic style and specific elements to incorporate when generating images. The style prompt should be worded as a description of the desired image, not as an instruction to the bot."),ed="https://developer.poe.com/prompt-bots/best-practices-for-prompts/image-generation");let em=(0,r.jsxs)(i(),{className:Z().subtextLink,target:"_blank",href:ed,children:[L("View best practices for prompts"),(0,r.jsx)(y.Z,{className:Z().subtextLinkIcon})]}),eg="";eg=eo?L("e.g. Blurry brushstrokes, pastel colors, daylight --no rain"):ei?L("e.g. Blurry brushstrokes, pastel colors"):L("e.g. You are the CatBot. You will try to respond to the user's questions, but you get easily distracted.");let ep=o.find(e=>e.botId===er),e_=null==ep?void 0:ep.showAdvancedFieldsAsBaseBot,eh=S&&(!eo&&!ei||et.current),eb=S&&et.current&&(eo||ei)?L("Knowledge sources are not available on image generation bots."):void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:L("Base bot")}),(0,r.jsx)(x.Z,{...t("baseBot",{validate:e=>!!_||!!e,onChange:ee}),children:o.map(e=>{let t=e.botId===I.Rq||er===I.Ag,a=e.limitedAccessType&&e.limitedAccessType!==P.Z.no_limit&&!t;return(0,r.jsx)(x.$,{value:e.model,"data-limited-access-type":e.limitedAccessType,"data-is-sdxl-or-dalle3":t,children:a?L("{{botName}} (Limited access for non-subscribers)",{botName:e.displayName}):e.displayName},e.botId)})}),$&&(0,r.jsxs)("div",{className:Z().subtextWithIcon,children:[(0,r.jsx)(F.Z,{className:Z().infoIcon}),L("You selected a subscription-limited base bot. User message limits will apply.")]})]}),(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:ec}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:Z().subtext,children:eu}),em]}),(0,r.jsx)("textarea",{className:Z().textarea,placeholder:eg,...t("prompt",{onChange:en,validate:ea})}),c&&(0,r.jsx)(ErrorText,{children:c}),(0,r.jsx)(w.Z,{...t("promptIsPublic"),label:L("Show prompt in bot profile")})]}),eh&&(0,r.jsx)(creation_KnowledgeBaseSection,{bot:E,viewer:A,hasKnowledgeSourcesRef:et,errorMessage:eb}),(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:L("Greeting message")}),(0,r.jsx)("div",{className:Z().subtext,children:L("The bot will send this message at the beginning of every conversation.")}),(0,r.jsx)("textarea",{className:Z().textarea,placeholder:L("e.g. Hello, I'm CatBot, your new digital pet. Ask me something about cats."),...t("introduction",{onChange:es,validate:el})}),d&&(0,r.jsx)(ErrorText,{children:d})]}),e_&&(0,r.jsx)(AdvancedFields,{register:t,watch:n,startExpanded:h,defaultTemperature:null!=q?q:0,modelMaxTemperature:null!=H?H:1,enableCustomTemperature:f}),(0,r.jsx)(BotProfileSetting,{register:t,watch:n,showPrivacySetting:b,bioErrorMessage:p}),shouldShowMonetizationSetting(C,k,v)&&(0,r.jsx)(MonetizationSetting,{register:t,watch:n,isEnrolledInRevshare:v,canEditMessagePrice:K,priceErrorMessage:N})]})},ApiBotTestSection=e=>{let{watch:t}=e,{t:n}=(0,m.$G)(),[l,s]=(0,u.useState)(!1),[o,i]=(0,u.useState)(null),[c]=(0,g.useMutation)(a(10234)),d=t("apiUrl"),p=t("apiKey"),_=(0,u.useCallback)(e=>{e.preventDefault(),s(!0),c({variables:{apiUrl:d,apiKey:p},onCompleted:e=>{i(e.poeApiBotCheck.status),s(!1)},onError:()=>{i(M.other_failure),s(!1)}})},[d,p,c]),b=!d||!p||l;return(0,u.useEffect)(()=>{i(null)},[d]),(0,u.useEffect)(()=>{i(null)},[p]),(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsxs)("div",{className:Z().sectionDesktopHorizontal,children:[(0,r.jsxs)("div",{className:(0,j.$)(Z().section,Z().sectionGrow),children:[(0,r.jsx)("div",{className:Z().subsectionTitle,children:n("Check reachability")}),(0,r.jsx)("div",{className:Z().subtext,children:n("Send a test settings request to your URL to check its reachability.")})]}),(0,r.jsx)(h.PL,{disabled:b,onClick:_,className:Z().buttonNoShrink,children:n("Run check")})]}),(()=>{if(l)return(0,r.jsx)("div",{className:Z().subtext,children:"Running test."});if(!p&&!d)return(0,r.jsx)("div",{className:Z().subtext,children:n("Please set a server URL and key.")});if(!d)return(0,r.jsx)("div",{className:Z().subtext,children:n("Please set a server URL.")});if(!p)return(0,r.jsx)("div",{className:Z().subtext,children:n("Please set an access key.")});if(o==M.success)return(0,r.jsx)("div",{className:Z().subtextSuccess,children:n("Check successful. Your server is reachable.")});if(o==M.timed_out)return(0,r.jsx)(ErrorText,{children:n("Check failed: the response timed out.")});if(o==M.invalid_settings)return(0,r.jsx)(ErrorText,{children:n("Check failed: the response included invalid data.")});else if(o==M.other_failure)return(0,r.jsx)(ErrorText,{children:n("Check failed.")})})()]})},ApiFields=e=>{let{register:t,watch:a,setValue:n,showApiFields:l,showPrivacySetting:s,apiUrlErrorMessage:o,apiKeyErrorMessage:i,bioErrorMessage:c,isEnrolledInRevshare:d,shouldSeeRevshareEntryPoints:g,canEditMessagePrice:p,priceErrorMessage:_}=e,{t:b}=(0,m.$G)(),f=(0,T.F)(),v=useValidateUrl(),x=(0,u.useCallback)(e=>{e.preventDefault(),n("apiKey",(0,K._)())},[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:b("Server URL")}),(0,r.jsx)("div",{className:Z().subtext,children:(0,r.jsx)(m.cC,{i18nKey:"botInfoForApiUrlSubtext",shouldUnescape:!0,values:G,components:U,defaults:"Provide a link to your bot server. To learn how to get a bot server running, check out: <2>{{apiBotTutorialUrl}}</2>."})}),(0,r.jsx)("input",{className:Z().input,...t("apiUrl",{validate:e=>!l||v(e)})})]}),o&&(0,r.jsx)(ErrorText,{children:o}),(0,r.jsxs)("div",{className:Z().section,children:[(0,r.jsx)("div",{className:Z().sectionTitle,children:b("Access key")}),(0,r.jsx)("div",{className:Z().subtext,children:b("This 32-character key will be included in requests to your bot server.")}),(0,r.jsxs)("div",{className:Z().sectionDesktopHorizontal,children:[(0,r.jsx)("input",{className:Z().input,...t("apiKey",{validate:e=>!l||32==e.length||b("Please enter or use the button to generate a valid access key.")})}),(0,r.jsx)(h.PL,{type:"button",onClick:x,children:b("Regenerate")})]}),i&&(0,r.jsx)(ErrorText,{children:i})]}),(0,r.jsx)(ApiBotTestSection,{watch:a}),(0,r.jsx)(BotProfileSetting,{register:t,watch:a,showPrivacySetting:s,bioErrorMessage:c}),shouldShowMonetizationSetting(f,g,d)&&(0,r.jsx)(MonetizationSetting,{register:t,watch:a,isEnrolledInRevshare:d,canEditMessagePrice:p,priceErrorMessage:_})]})};var creation_BotInfoForm=e=>{var t,n,l,s,o,i,c,h,b,v,x;let{onSubmit:w,viewer:k,prompt:S,baseBot:y="chinchilla",name:F,handle:I,isPromptPublic:K=!0,introduction:N,description:L,profilePictureUrl:C,submitText:M,apiKey:P,apiUrl:E,isApiBot:A=!1,shouldShowEditReminder:R=!1,allowSwitchingBotType:D=!1,hasMarkdownRendering:O=!0,hasSuggestedReplies:U=!1,disclaimer:G,isPrivateBot:z,botVisibilityNote:q,temperature:H,baseBotId:$=V,customMessageLimit:Q,bot:Y,messagePrice:W,shouldCiteSources:J=!0}=e,{botsAllowedForUserCreation:X,enablePromptBotsPrivacySetting:ee,enablePromptBotCustomTemperature:et,decoupleBotHandleAndName:ea,isEnrolledInRevshare:en,shouldSeeRevshareEntryPoints:el,showKnowledgeBaseSection:es,canEditMessagePrice:er,...eo}=(0,g.useFragment)(a(61471),k),ei=(0,g.useFragment)(a(77412),Y),[ec,eu]=(0,u.useState)(!1),[ed,em]=(0,u.useState)(!1),[eg,ep]=(0,u.useState)(!1),e_=(0,u.useCallback)(()=>{em(!1)},[em]),eh=X.find(e=>e.botId===$),eb=null!==(x=null==eh?void 0:eh.modelDefaultTemperature)&&void 0!==x?x:0,ef=(0,d.cI)({defaultValues:{name:ea?F:void 0,handle:I,description:L,baseBot:y,prompt:S,promptIsPublic:K,introduction:N,image:void 0,apiKey:P,apiUrl:E,isApiBot:A,hasMarkdownRendering:O,hasSuggestedReplies:U,botIsPublic:!z,hasCustomTemperature:void 0!==H,temperature:void 0!==H?H:eb,baseBotId:$,hasCustomMessageLimit:en&&void 0!==Q,customMessageLimit:Q,knowledgeSourcesToAdd:[],knowledgeSourcesToRemove:[],messagePrice:W,shouldCiteSources:J},mode:"onBlur"}),{register:ev,handleSubmit:ex,watch:ew,formState:{errors:ek,isValid:eS},getValues:ey,setValue:eF,trigger:eI}=ef,ej=(0,u.useMemo)(()=>!O||U,[]),[eB,eK]=(0,u.useState)(A),{shouldShowNux:eT}=(0,p.Bi)(),{t:eN}=(0,m.$G)(),eZ=(0,u.useMemo)(()=>({close:e_,confirmSubmission:()=>w(ey()),isSubmitting:ec,setIsSubmitting:eu}),[e_,ey,w,ec]),eL=(0,T.F)();return(0,r.jsxs)(d.RV,{...ef,children:[(0,r.jsxs)("form",{className:Z().form,onSubmit:ex(async e=>{var t;if(eT||!eS)return;let a=R&&!eg&&e.botIsPublic&&(!e.description.trim()||!(null===(t=e.image)||void 0===t?void 0:t.length));if(a){em(!0),ep(!0);return}e.isApiBot=eB,eB&&(e.baseBot=null!=y?y:"",e.promptIsPublic=null!=K&&K,e.introduction=null!=N?N:"",e.prompt=null!=S?S:""),eu(!0);try{await w(e)}catch(e){eu(!1)}}),children:[(0,r.jsx)(CommonFields,{register:ev,profilePictureUrl:C,decoupleBotHandleAndName:ea,handleErrorMessage:null===(t=ek.handle)||void 0===t?void 0:t.message,nameErrorMessage:null===(n=ek.name)||void 0===n?void 0:n.message}),D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:Z().sectionGroupHeader,children:[(0,r.jsx)("hr",{className:Z().divider}),(0,r.jsx)("div",{className:Z().sectionGroupTitle,children:eN("Bot behavior")})]}),(0,r.jsx)(TabBar,{showApiFields:eB,setShowApiFields:eK})]}),eB?(0,r.jsx)(ApiFields,{register:ev,watch:ew,setValue:eF,showApiFields:eB,showPrivacySetting:ee,apiUrlErrorMessage:null===(l=ek.apiUrl)||void 0===l?void 0:l.message,apiKeyErrorMessage:null===(s=ek.apiKey)||void 0===s?void 0:s.message,bioErrorMessage:null===(o=ek.description)||void 0===o?void 0:o.message,isEnrolledInRevshare:en,shouldSeeRevshareEntryPoints:el,canEditMessagePrice:er,priceErrorMessage:null===(i=ek.messagePrice)||void 0===i?void 0:i.message}):(0,r.jsx)(PromptFields,{register:ev,watch:ew,trigger:eI,availableBots:X,setValue:eF,promptErrorMessage:null===(c=ek.prompt)||void 0===c?void 0:c.message,bioErrorMessage:null===(h=ek.description)||void 0===h?void 0:h.message,introErrorMessage:null===(b=ek.introduction)||void 0===b?void 0:b.message,showApiFields:eB,startAdvancedFieldsExpanded:ej,showPrivacySetting:ee,enableCustomTemperature:!!et,isEnrolledInRevshare:en,shouldSeeRevshareEntryPoints:el,showKnowledgeBaseSection:es,bot:ei,viewer:eo,canEditMessagePrice:er,priceErrorMessage:null===(v=ek.messagePrice)||void 0===v?void 0:v.message}),(0,r.jsxs)("div",{className:(0,j.$)(Z().submitButtonSection,!(0,B.k6)(eL)&&Z().submitButtonSectionSticky),children:[(0,r.jsx)(_.Z,{type:"submit",disabled:ec,variant:"primary",children:M}),(G||q)&&(0,r.jsxs)("div",{className:Z().submitDisclaimer,children:[!ee&&!eB&&(null!=q?q:"")," ",null!=G?G:""]})]})]}),(0,r.jsx)(f.Z,{isOpen:ed,onRequestClose:e_,body:importReminderModalBody,bodyProps:eZ,shouldCloseOnOverlayClick:!1})]})}},81360:function(e,t,a){"use strict";var n=a(85893),l=a(67294),s=a(75658),r=a(74929),o=a(37115);t.Z=e=>{let t=(0,o.F)();return((0,l.useEffect)(()=>{(0,r.k6)(t)&&(window.document.documentElement.style.overflow="initial",window.document.documentElement.style.setProperty("--full-height","100%"))},[t]),(0,r.pE)(t))?null:(0,n.jsx)(s.Z,{...e})}},75256:function(e,t,a){"use strict";function botCreated(e,t){postMessage({messageName:"botCreated",displayName:e,statusMessage:t})}function botEdited(e,t){postMessage({messageName:"botEdited",displayName:e,statusMessage:t})}function postMessage(e){var t,a;let n=window.PoeAndroid,l=null===(a=window.webkit)||void 0===a?void 0:null===(t=a.messageHandlers)||void 0===t?void 0:t.PoeIOS;if(n){let t=JSON.stringify(e);n.postMessage(t)}else l&&l.postMessage(e)}a.d(t,{o:function(){return botCreated},z:function(){return botEdited}})},49145:function(e,t,a){"use strict";a.d(t,{Z:function(){return knowledge_KnowledgeSourceListItem}});var n,l,s,r,o=a(85893),i=a(67294),c=a(22120),u=a(22578),d=a(69295),m=a(65869),g=a(89372),p=a(41019),_=a(36411),h=a(39620),b=a(93416);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var refresh=function(e){return i.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=i.createElement("path",{d:"m4.04 11.93 3.29-1.2c.52-.19.79-.76.6-1.28a.998.998 0 0 0-1.28-.6l-1.08.39A7 7 0 0 1 12 5c2.93 0 5.57 1.85 6.58 4.6.19.52.76.78 1.28.6.52-.19.79-.76.6-1.28C19.16 5.38 15.77 3 12 3 8.41 3 5.22 5.12 3.79 8.31l-.35-.96a.998.998 0 0 0-1.28-.6c-.52.19-.79.76-.6 1.28l1.2 3.29c.15.41.53.66.94.66.11.01.23-.01.34-.05ZM22.43 15.95l-1.2-3.29a.998.998 0 0 0-1.28-.6l-3.29 1.2c-.52.19-.79.76-.6 1.28.19.52.77.79 1.28.6l1.09-.4A6.982 6.982 0 0 1 12 19a7.01 7.01 0 0 1-6.58-4.61.998.998 0 0 0-1.28-.6c-.52.19-.79.76-.6 1.28A9.028 9.028 0 0 0 12 21c3.59 0 6.78-2.12 8.21-5.3l.34.93a.998.998 0 0 0 1.28.6c.52-.19.79-.76.6-1.28Z"})))};function textInput_extends(){return(textInput_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var textInput=function(e){return i.createElement("svg",textInput_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=i.createElement("path",{d:"M4 5h2.75v5.5a1 1 0 1 0 2 0V5h2.75a1 1 0 1 0 0-2H4a1 1 0 1 0 0 2ZM15.5 5H20a1 1 0 1 0 0-2h-4.5a1 1 0 1 0 0 2ZM20 13.667H4a1 1 0 1 0 0 2h16a1 1 0 1 0 0-2ZM20 19H4a1 1 0 1 0 0 2h16a1 1 0 1 0 0-2ZM20 8.333h-4.5a1 1 0 1 0 0 2H20a1 1 0 1 0 0-2Z"})))},f=a(75408),v=a(22469),x=a.n(v);(n=r||(r={})).complete="complete",n.processing="processing",n.error="error";var w=r,k=a(24018);let importEditKnowledgeSourceModal=()=>a.e(6470).then(a.bind(a,56470)),EditKnowledgeSourceButton=e=>{let{knowledgeSource:t}=e,{knowledgeSourceId:n}=(0,u.useFragment)(a(64103),t),[l,s]=(0,i.useState)(!1),r=(0,i.useCallback)(()=>s(!0),[]),c=(0,i.useCallback)(()=>s(!1),[]),m=(0,i.useMemo)(()=>({knowledgeSourceId:n,closeModal:c}),[n,c]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.PL,{type:"button",onClick:r,icon:(0,o.jsx)(b.Z,{})}),(0,o.jsx)(p.Z,{body:importEditKnowledgeSourceModal,bodyProps:m,isOpen:l,onRequestClose:c,showCloseButton:!1})]})},useKnowledgeSourceStateText=e=>{let{lastUpdatedTime:t,state:n}=(0,u.useFragment)(a(97602),e),l=null==n?void 0:n.__typename,{t:s}=(0,c.$G)();switch(l){case"KnowledgeSourceCompleteState":{let e=new Date(t/1e3);return s("Last updated {{val, datetime}}",{val:e,formatParams:(0,g.U)(e)})}case"KnowledgeSourceEnqueuedState":case"KnowledgeSourceParsingState":case"KnowledgeSourceEmbeddingState":return s("Processing...");case"KnowledgeSourceGenericErrorState":return s("Unable to process this knowledge source");case"KnowledgeSourceProcessedTextTooLongErrorState":return s("Text is too long");default:return s("Unknown")}},KnowledgeSourceListItemBase=e=>{let{knowledgeSource:t,icon:n,sourceTypeName:l,editButton:s,removeButton:r}=e,{title:i,state:c,...d}=(0,u.useFragment)(a(91553),t),m=useKnowledgeSourceStateText(d);return(0,o.jsx)(k.Z,{className:x().item,"data-source-state":c.highLevelState,icon:c.highLevelState===w.processing?(0,o.jsx)(refresh,{className:x().processingIcon}):n,title:i,subtitle:(0,o.jsxs)(o.Fragment,{children:[l," \xb7 ",(0,o.jsx)("span",{className:x().stateText,children:m})]}),buttons:(0,o.jsxs)(o.Fragment,{children:[s,r]})})},UnknownTypeKnowledgeSourceListItem=e=>{let{knowledgeSource:t,removeButton:n}=e,l=(0,u.useFragment)(a(445),t),{t:s}=(0,c.$G)();return(0,o.jsx)(KnowledgeSourceListItemBase,{knowledgeSource:l,icon:(0,o.jsx)(_.Z,{}),sourceTypeName:s("Unknown"),removeButton:n})},TextInputKnowledgeSourceListItem=e=>{let{knowledgeSource:t,removeButton:n}=e,l=(0,u.useFragment)(a(87424),t),{t:s}=(0,c.$G)();return(0,o.jsx)(KnowledgeSourceListItemBase,{knowledgeSource:l,icon:(0,o.jsx)(textInput,{}),sourceTypeName:s("Text"),removeButton:n,editButton:(0,o.jsx)(EditKnowledgeSourceButton,{knowledgeSource:l})})},FileUploadKnowledgeSourceListItem=e=>{let{knowledgeSource:t,removeButton:n}=e,l=(0,u.useFragment)(a(53167),t),{t:s}=(0,c.$G)();return(0,o.jsx)(KnowledgeSourceListItemBase,{knowledgeSource:l,icon:(0,o.jsx)(_.Z,{}),sourceTypeName:s("File"),removeButton:n})},getListItemComponent=e=>{switch(e){case"TextInputKnowledgeSource":return TextInputKnowledgeSourceListItem;case"FileUploadKnowledgeSource":return FileUploadKnowledgeSourceListItem;default:return UnknownTypeKnowledgeSourceListItem}};var knowledge_KnowledgeSourceListItem=e=>{let{knowledgeSource:t,removeSource:n}=e,{__typename:l,knowledgeSourceId:s,size:r,...c}=(0,u.useFragment)(a(26289),t);(0,f.ah)(s);let g=(0,i.useMemo)(()=>n?()=>n({...t,size:r,knowledgeSourceId:s}):void 0,[s,n,t,r]),p=getListItemComponent(l);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p,{knowledgeSource:c,removeButton:g?(0,o.jsx)(d.PL,{type:"button",onClick:g,icon:(0,o.jsx)(h.Z,{})}):void 0}),(0,o.jsx)(m.Z,{node:c})]})}},24018:function(e,t,a){"use strict";var n=a(85893),l=a(34616),s=a(49487),r=a.n(s);t.Z=e=>{let{icon:t,title:a,subtitle:s,buttons:o,className:i,...c}=e;return(0,n.jsxs)("div",{className:(0,l.$)(r().item,i),...c,children:[(0,n.jsxs)("div",{className:r().left,children:[t,(0,n.jsxs)("div",{className:r().info,children:[(0,n.jsx)("div",{className:r().title,children:a}),(0,n.jsx)("div",{className:r().subtitle,children:s})]})]}),(0,n.jsx)("div",{className:r().right,children:o})]})}},24415:function(e,t,a){"use strict";var n=a(85893),l=a(67294),s=a(22120),r=a(69295),o=a(9274),i=a(39620),c=a(99240),u=a(35486),d=a.n(u),m=a(24018);t.Z=e=>{let{upload:t,removeSource:a}=e,{file:u,uploadPromise:g}=t,[p,_]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=!1;return g.catch(t=>{e||_(t)}),()=>{e=!0}},[g]);let{t:h}=(0,s.$G)(),b=(0,l.useMemo)(()=>p&&a&&(()=>a(t)),[p,a,t]);return(0,n.jsx)(m.Z,{icon:p?(0,n.jsx)(o.Z,{}):(0,n.jsx)(c.Z,{className:d().animateIcon}),title:u.name,subtitle:(0,n.jsxs)(n.Fragment,{children:[h("File")," \xb7 ",p?(0,n.jsx)("span",{className:d().errorText,children:p}):(0,n.jsx)("span",{className:d().uploadingText,children:h("Uploading...")})]}),className:d().item,buttons:b&&(0,n.jsx)(r.t9,{type:"button",onClick:b,icon:(0,n.jsx)(i.Z,{})})})}},75658:function(e,t,a){"use strict";var n=a(85893),l=a(42116),s=a(44254);t.Z=e=>(0,n.jsx)(s.Z,{leftNavItem:(0,n.jsx)(l.Z,{}),...e})},30885:function(e,t,a){"use strict";var n=a(85893),l=a(25675),s=a.n(l),r=a(67294),o=a(22120),i=a(34616),c=a(8655),u=a(12381),d=a.n(u),m=a(69295);let DisplayImage=e=>{let{defaultSrc:t,onChangeRef:a,imageClassName:l,size:o=80,onClick:c}=e,[u,m]=(0,r.useState)(null);return a.current=(0,r.useCallback)(e=>{var t,a;if(null===(a=e.target)||void 0===a?void 0:null===(t=a.files)||void 0===t?void 0:t.length){let t=new FileReader;t.onload=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.result)&&m(e.target.result)},t.readAsDataURL(e.target.files[0])}else m(null)},[]),(0,n.jsx)(s(),{className:(0,i.$)(d().displayImage,l),src:u||t,alt:"Bot image",width:o,height:o,priority:!0,onClick:c})},g=(0,r.forwardRef)((e,t)=>{let{defaultSrc:a,size:l=80,imageClassName:s,onChange:i,...u}=e,{t:g}=(0,o.$G)(),p=(0,r.useRef)(null),_=(0,r.useCallback)(()=>{var e;null===(e=p.current)||void 0===e||e.click()},[]),h=(0,r.useRef)(null),b=(0,r.useCallback)(e=>{var t;null===(t=h.current)||void 0===t||t.call(h,e),null==i||i(e)},[i]),f=(0,r.useMemo)(()=>(0,c.Z)([p,t]),[p,t]);return(0,n.jsxs)("div",{className:d().container,children:[(0,n.jsx)(DisplayImage,{defaultSrc:a,onChangeRef:h,imageClassName:s,onClick:_,size:l}),(0,n.jsx)(m.t9,{className:d().editPictureButton,type:"button",onClick:_,children:g("Edit picture")}),(0,n.jsx)("input",{...u,onChange:b,className:d().input,type:"file",accept:"image/*",multiple:!1,ref:f})]})});g.displayName="ImageSelector",t.Z=g},67242:function(e,t,a){"use strict";a.d(t,{$:function(){return u}});var n=a(85893),l=a(67294),s=a(46309),r=a(34616),o=a(30756),i=a.n(o);let c=l.forwardRef(function(e,t){let{className:a}=e,l={...e};return delete l.className,(0,n.jsxs)("div",{className:(0,r.$)(i().selectdiv,a),children:[(0,n.jsx)("select",{className:i().select,ref:t,...l,children:e.children}),(0,n.jsx)(s.Z,{className:i().chevronIcon})]})}),u=l.forwardRef(function(e,t){return(0,n.jsx)("option",{ref:t,...e})});t.Z=c},5409:function(e,t,a){"use strict";var n=a(85893),l=a(67294),s=a(95719),r=a.n(s);let o=(0,l.forwardRef)((e,t)=>{let{label:a,hidden:l,...s}=e;return(0,n.jsxs)("div",{className:r().toggleRow,"data-hidden":l,children:[(0,n.jsx)("div",{children:a}),(0,n.jsxs)("label",{className:r().switch,children:[(0,n.jsx)("input",{ref:t,className:r().input,type:"checkbox",...s}),(0,n.jsx)("span",{className:r().slider})]})]})});o.displayName="ToggleSwitch",t.Z=o},46079:function(e,t,a){"use strict";a.d(t,{$:function(){return Tags},V:function(){return Tag}});var n=a(85893),l=a(67294),s=a(34616),r=a(79960),o=a.n(r);let Tag=e=>{let{label:t,className:a,...l}=e,r=(0,s.$)(o().tag,a);return(0,n.jsx)("div",{className:r,...l,children:t})},Tags=e=>{let{className:t,children:a,...r}=e,i=(0,s.$)(o().tags,t);return(0,n.jsx)("ol",{className:i,...r,children:l.Children.map(a,e=>(0,n.jsx)("li",{children:e}))})}},8655:function(e,t,a){"use strict";a(67294),t.Z=function(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},61794:function(e,t,a){"use strict";a.d(t,{I:function(){return uploadImage},W:function(){return uploadFirstImageInFilelist}});var n=a(243);let uploadImage=async e=>{let t=new FormData;t.append("kind","qtext"),t.append("file",e),t.append("nid","0");let a=await fetch("/api/imgupload_POST",{method:"POST",body:t,headers:{"poe-formkey":(0,n.Mz)()},credentials:"include"});if(!a.ok)throw Error("Image upload failed: "+a.statusText);let l=await a.json();if(!l.success||!l.qimg_urls||!l.qimg_urls.length)throw Error("Image upload failed");return l.qimg_urls[0]},uploadFirstImageInFilelist=async e=>(null==e?void 0:e.length)?await uploadImage(e[0]):null},72589:function(e,t,a){"use strict";a.d(t,{A:function(){return valueOfMessageAuthor},m:function(){return parseMessageAuthor}});var n=a(85649);let l=new Map([[n.Z.human,1],[n.Z.dummy,2],[n.Z.chat_break,3],[n.Z.rat,4],[n.Z.echo_bot,11],[n.Z.a1,1e3],[n.Z.a1_honest,1001],[n.Z.a1_professor,1002],[n.Z.a1_t0,1003],[n.Z.a1_honest2,1004],[n.Z.a1_honest3,1005],[n.Z.a2,1006],[n.Z.a2_test,1007],[n.Z.a2_2,1008],[n.Z.a2_100k,1009],[n.Z.a2_2_100k,1010],[n.Z.mnm,2e3],[n.Z.mnm_safety,2001],[n.Z.mnm_t0,2002],[n.Z.davinci2,3e3],[n.Z.davinci3,3001],[n.Z.capybara,3002],[n.Z.nutria,3003],[n.Z.chinchilla,3004],[n.Z.beaver,3007],[n.Z.capybara_test,3005],[n.Z.nutria_test,3006],[n.Z.capybara_search,3008],[n.Z.agouti,3009],[n.Z.vizcacha,3010],[n.Z.chinchilla_instruct,3011],[n.Z.gpt3_5,3012],[n.Z.hutia,4e3],[n.Z.pacarana,5e3],[n.Z.bot_query_api,5001],[n.Z.acouchy,6e3],[n.Z.acouchy_code,6001],[n.Z.acouchy_search_grounded,6002],[n.Z.unicorn,6003],[n.Z.llama_2_70b_chat,7e3],[n.Z.llama_2_13b_chat,7001],[n.Z.llama_2_7b_chat,7002],[n.Z.code_llama_7b_instruct,7003],[n.Z.code_llama_13b_instruct,7004],[n.Z.code_llama_34b_instruct,7005],[n.Z.upstage_solar_0_70b_16bit,7006],[n.Z.qwen_7b_chat,7007],[n.Z.mistral_7b_instruct,7008]]),s=new Map([[1,n.Z.human],[2,n.Z.dummy],[3,n.Z.chat_break],[4,n.Z.rat],[11,n.Z.echo_bot],[1e3,n.Z.a1],[1001,n.Z.a1_honest],[1002,n.Z.a1_professor],[1003,n.Z.a1_t0],[1004,n.Z.a1_honest2],[1005,n.Z.a1_honest3],[1006,n.Z.a2],[1007,n.Z.a2_test],[1008,n.Z.a2_2],[1009,n.Z.a2_100k],[1010,n.Z.a2_2_100k],[2e3,n.Z.mnm],[2001,n.Z.mnm_safety],[2002,n.Z.mnm_t0],[3e3,n.Z.davinci2],[3001,n.Z.davinci3],[3002,n.Z.capybara],[3003,n.Z.nutria],[3004,n.Z.chinchilla],[3007,n.Z.beaver],[3005,n.Z.capybara_test],[3006,n.Z.nutria_test],[3008,n.Z.capybara_search],[3009,n.Z.agouti],[3010,n.Z.vizcacha],[3011,n.Z.chinchilla_instruct],[3012,n.Z.gpt3_5],[4e3,n.Z.hutia],[5e3,n.Z.pacarana],[5001,n.Z.bot_query_api],[6e3,n.Z.acouchy],[6001,n.Z.acouchy_code],[6002,n.Z.acouchy_search_grounded],[6003,n.Z.unicorn],[7e3,n.Z.llama_2_70b_chat],[7001,n.Z.llama_2_13b_chat],[7002,n.Z.llama_2_7b_chat],[7003,n.Z.code_llama_7b_instruct],[7004,n.Z.code_llama_13b_instruct],[7005,n.Z.code_llama_34b_instruct],[7006,n.Z.upstage_solar_0_70b_16bit],[7007,n.Z.qwen_7b_chat],[7008,n.Z.mistral_7b_instruct]]);function valueOfMessageAuthor(e){return l.get(n.Z[e])}function parseMessageAuthor(e){if(null===e)return null;if("number"==typeof e){let t=s.get(e);if(!t)throw Error("".concat(e," is not a valid MessageAuthor"));return t}return"string"==typeof e?n.Z[e]:e}},85649:function(e,t){"use strict";var a,n;(n=a||(a={})).human="human",n.dummy="dummy",n.chat_break="chat_break",n.rat="rat",n.echo_bot="echo_bot",n.a1="a1",n.a1_honest="a1_honest",n.a1_professor="a1_professor",n.a1_t0="a1_t0",n.a1_honest2="a1_honest2",n.a1_honest3="a1_honest3",n.a2="a2",n.a2_test="a2_test",n.a2_2="a2_2",n.a2_100k="a2_100k",n.a2_2_100k="a2_2_100k",n.mnm="mnm",n.mnm_safety="mnm_safety",n.mnm_t0="mnm_t0",n.davinci2="davinci2",n.davinci3="davinci3",n.capybara="capybara",n.nutria="nutria",n.chinchilla="chinchilla",n.beaver="beaver",n.capybara_test="capybara_test",n.nutria_test="nutria_test",n.capybara_search="capybara_search",n.agouti="agouti",n.vizcacha="vizcacha",n.chinchilla_instruct="chinchilla_instruct",n.gpt3_5="gpt3_5",n.hutia="hutia",n.pacarana="pacarana",n.bot_query_api="bot_query_api",n.acouchy="acouchy",n.acouchy_code="acouchy_code",n.acouchy_search_grounded="acouchy_search_grounded",n.unicorn="unicorn",n.llama_2_70b_chat="llama_2_70b_chat",n.llama_2_13b_chat="llama_2_13b_chat",n.llama_2_7b_chat="llama_2_7b_chat",n.code_llama_7b_instruct="code_llama_7b_instruct",n.code_llama_13b_instruct="code_llama_13b_instruct",n.code_llama_34b_instruct="code_llama_34b_instruct",n.upstage_solar_0_70b_16bit="upstage_solar_0_70b_16bit",n.qwen_7b_chat="qwen_7b_chat",n.mistral_7b_instruct="mistral_7b_instruct",t.Z=a},79960:function(e){e.exports={tag:"tag_tag__SaZZp",tags:"tag_tags__Zn5SU"}},55179:function(e){e.exports={form:"BotInfoForm_form__s4xR7",section:"BotInfoForm_section__K_bZh",toggleSection:"BotInfoForm_toggleSection__t5TU2",sectionGroupHeader:"BotInfoForm_sectionGroupHeader__huyPM",sectionGroupTitle:"BotInfoForm_sectionGroupTitle__6Qbw0",sectionTitle:"BotInfoForm_sectionTitle__rB71k",subsectionTitle:"BotInfoForm_subsectionTitle__CekLa",subtext:"BotInfoForm_subtext__QSGMq",submitDisclaimer:"BotInfoForm_submitDisclaimer___1ViJ",subtextSuccess:"BotInfoForm_subtextSuccess___hvgo BotInfoForm_subtext__QSGMq",subtextFailure:"BotInfoForm_subtextFailure__YxxOB BotInfoForm_subtext__QSGMq",subtextLinkNoFlex:"BotInfoForm_subtextLinkNoFlex__udvIo",subtextLink:"BotInfoForm_subtextLink__sGEZE BotInfoForm_subtextLinkNoFlex__udvIo",subtextLinkIcon:"BotInfoForm_subtextLinkIcon__2wdf6",divider:"BotInfoForm_divider__X0vGF",input:"BotInfoForm_input__JBO4b",textarea:"BotInfoForm_textarea__qhpKs",bioFooter:"BotInfoForm_bioFooter__phoKt",bioCounterError:"BotInfoForm_bioCounterError__XBzc6",bioCounter:"BotInfoForm_bioCounter__1jpUP",toggleContainer:"BotInfoForm_toggleContainer__S0s20",limitToggleContainer:"BotInfoForm_limitToggleContainer__CYwL1",helpText:"BotInfoForm_helpText__8bb6Q",messageLimitContainer:"BotInfoForm_messageLimitContainer__jJ_ZX",messageLimitRange:"BotInfoForm_messageLimitRange__T60vL",temperatureContainer:"BotInfoForm_temperatureContainer__1j4Px",botImage:"BotInfoForm_botImage__RNH2l",botImageSelector:"BotInfoForm_botImageSelector__tPsB9",previewArea:"BotInfoForm_previewArea__b8SqB",previewHeader:"BotInfoForm_previewHeader__EmkzR",previewTitle:"BotInfoForm_previewTitle__qnehD",previewMessageArea:"BotInfoForm_previewMessageArea__lHIq7",submitButtonSection:"BotInfoForm_submitButtonSection__bHW2i",submitButtonSectionSticky:"BotInfoForm_submitButtonSectionSticky__meYQJ",formLink:"BotInfoForm_formLink__iSE6O",tabBar:"BotInfoForm_tabBar__7e6kN",tabBarItem:"BotInfoForm_tabBarItem__ob9UB",tabBarItemSelected:"BotInfoForm_tabBarItemSelected__N0w5b",tabBarItemIcon:"BotInfoForm_tabBarItemIcon___5ajq",errorText:"BotInfoForm_errorText__TN8i9",chevronDown:"BotInfoForm_chevronDown__CJhYK",subtextWithIcon:"BotInfoForm_subtextWithIcon__hIVMl",infoIcon:"BotInfoForm_infoIcon__irPCU",chevronDownExpanded:"BotInfoForm_chevronDownExpanded__Mpmbc",sectionTitleWithIcon:"BotInfoForm_sectionTitleWithIcon__TSXtr",buttonNoShrink:"BotInfoForm_buttonNoShrink__5zx4K",sectionGrow:"BotInfoForm_sectionGrow__AShXm",sectionDesktopHorizontal:"BotInfoForm_sectionDesktopHorizontal__OTnb_ BotInfoForm_section__K_bZh",priceRange:"BotInfoForm_priceRange__46BHx",defaultTemperatureText:"BotInfoForm_defaultTemperatureText__GC5Du",messageLimitSlider:"BotInfoForm_messageLimitSlider__qJVWc",temperatureSlider:"BotInfoForm_temperatureSlider__2oZ5k",disabledValue:"BotInfoForm_disabledValue__BQ0km",temperatureValue:"BotInfoForm_temperatureValue__rLCVR",messageLimitValue:"BotInfoForm_messageLimitValue__okQu2",creatorsLink:"BotInfoForm_creatorsLink__0SCmE",priceSection:"BotInfoForm_priceSection__KMr3T",preLaunchContainer:"BotInfoForm_preLaunchContainer__dL__X",pricePerMessageRow:"BotInfoForm_pricePerMessageRow__Tj5ht",currencySymbol:"BotInfoForm_currencySymbol__BXwGD",currencySymbolMuted:"BotInfoForm_currencySymbolMuted__BPVVO",priceInput:"BotInfoForm_priceInput__ZgV9_",priceUnitText:"BotInfoForm_priceUnitText__cK8gN",priceInputContainer:"BotInfoForm_priceInputContainer__yMMl9"}},22469:function(e){e.exports={item:"KnowledgeSourceListItem_item__HokZv",stateText:"KnowledgeSourceListItem_stateText__o4rQj",processingIcon:"KnowledgeSourceListItem_processingIcon__plBJm",spin:"KnowledgeSourceListItem_spin__Dkk_h"}},49487:function(e){e.exports={item:"KnowledgeSourceListItemPattern_item__rk7sx",left:"KnowledgeSourceListItemPattern_left__rxM6h",title:"KnowledgeSourceListItemPattern_title__ToDpC",subtitle:"KnowledgeSourceListItemPattern_subtitle__eE5H9",right:"KnowledgeSourceListItemPattern_right___aitW"}},35486:function(e){e.exports={item:"KnowledgeSourcePendingFileUpload_item___LBdP",uploadingText:"KnowledgeSourcePendingFileUpload_uploadingText__8iHAY",errorText:"KnowledgeSourcePendingFileUpload_errorText__wegy3",animateIcon:"KnowledgeSourcePendingFileUpload_animateIcon___Y3_J",spin:"KnowledgeSourcePendingFileUpload_spin__vyeKD"}},12381:function(e){e.exports={container:"ImageSelector_container__wdNvJ",displayImage:"ImageSelector_displayImage__VFAhs",editPictureButton:"ImageSelector_editPictureButton__OXQpR",input:"ImageSelector_input__VZdpU"}},30756:function(e){e.exports={select:"Select_select__9vzGo",selectdiv:"Select_selectdiv__ywEcM",chevronIcon:"Select_chevronIcon__5UO9q"}},95719:function(e){e.exports={switch:"ToggleSwitch_switch__T9FYv",slider:"ToggleSwitch_slider__ih5sC",toggleRow:"ToggleSwitch_toggleRow__Hcz7I",toggleSection:"ToggleSwitch_toggleSection__uCFxc"}}}]);