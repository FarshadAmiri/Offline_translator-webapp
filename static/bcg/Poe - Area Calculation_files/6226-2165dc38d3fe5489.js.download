(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6226],{46309:function(e,t,a){"use strict";var r,n=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}t.Z=function(e){return n.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=n.createElement("path",{fill:"currentColor",d:"M8.38 21.5c.26 0 .51-.1.71-.29l8.5-8.5a.996.996 0 0 0 0-1.41l-8.5-8.5a.996.996 0 1 0-1.41 1.41L15.46 12l-7.79 7.8a.996.996 0 0 0 0 1.41c.2.19.45.29.71.29Z"})))}},37480:function(e,t,a){"use strict";var r,n;a.r(t);let o={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"chatCode"},{defaultValue:null,kind:"LocalArgument",name:"shouldReturnChatCodePostSignupLogin"}],kind:"Fragment",metadata:null,name:"SignupWallModalContextWrapper_saveLoggedOutImportChatInfo_Mutation",selections:n=[{alias:null,args:[{kind:"Variable",name:"chatCode",variableName:"chatCode"},{kind:"Variable",name:"shouldReturnChatCodePostSignupLogin",variableName:"shouldReturnChatCodePostSignupLogin"}],concreteType:"SaveLoggedOutImportChatInfo",kind:"LinkedField",name:"saveLoggedOutImportChatInfo",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"SignupWallModalContextWrapper_saveLoggedOutImportChatInfo_Mutation",selections:n},params:{id:"be05ee39b9285fff3fe84c22580180c10e74dee606a1298719a2df7a2c76f9ba",metadata:{},name:"SignupWallModalContextWrapper_saveLoggedOutImportChatInfo_Mutation",operationKind:"mutation",text:null}};o.hash="a9352f08c4b11ae465a989c980db65a5",t.default=o},72930:function(e,t,a){"use strict";a.r(t);let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SignupWallModalContextWrapper_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null}],type:"Viewer",abstractKey:null};r.hash="e8beb913adc30551104fc70707d899ce",t.default=r},67894:function(e,t,a){"use strict";var r=a(11163),n=a(50530);t.Z=()=>{let{query:e}=(0,r.useRouter)(),t=e.chat;return(0,n.HD)(t)?t:null}},35409:function(e,t,a){"use strict";a.d(t,{dh:function(){return n},zl:function(){return useSignupWall}});var r,n,o=a(85893),l=a(11163),s=a(67294),i=a(22578),u=a(67894),d=a(6793),c=a(75704),p=a(19029),g=a(41019);let importSignupWallModal=()=>Promise.all([a.e(7648),a.e(356),a.e(1772)]).then(a.bind(a,69742));(r=n||(n={}))[r.navBarSignupButton=1]="navBarSignupButton",r[r.leftSidebarExploreButton=2]="leftSidebarExploreButton",r[r.leftSidebarCreateBotButton=3]="leftSidebarCreateBotButton",r[r.sendMessage=4]="sendMessage",r[r.poeLogo=5]="poeLogo",r[r.headerBarCreateChatButton=6]="headerBarCreateChatButton",r[r.voteAction=7]="voteAction",r[r.loggedOutUserExpiredModal=8]="loggedOutUserExpiredModal",r[r.retryMessage=9]="retryMessage";let m=[3,2,6,5],useSignupWall=()=>{let{setSignupWallVisible:e,shouldShowSignupWall:t,signupWallVisible:r,setTriggerSource:n,signupWallTriggerSource:o,setIsLoadingAfterSignupOrLogin:l}=s.useContext(f),d=(0,u.Z)(),c=(0,i.useRelayEnvironment)(),p=(0,s.useCallback)(t=>{if(e(!0),d){let e=!(t&&m.includes(t));(0,i.commitMutation)(c,{mutation:a(37480),variables:{chatCode:d,shouldReturnChatCodePostSignupLogin:e}})}t&&n(t)},[e,d,c,n]),g=(0,s.useCallback)(t=>{e(!1),t&&l(!0)},[e,l]);return{shouldShowSignupWall:t,signupWallVisible:r,openSignupWall:p,closeSignupWall:g,signupWallTriggerSource:o,setIsLoadingAfterSignupOrLogin:l}},f=s.createContext({setSignupWallVisible:()=>{},shouldShowSignupWall:!1,signupWallVisible:!1,setTriggerSource:()=>{},isLoadingAfterSignupOrLogin:!1,setIsLoadingAfterSignupOrLogin:()=>{}});t.ZP=e=>{let{viewer:t,children:r}=e,[n,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[_,x]=(0,s.useState)(),C=(0,l.useRouter)(),v=(0,s.useCallback)(()=>{(0,d.dh)(C),u(!1),(0,p.Z)("poe/signup_wall_closed",{current_url:C.asPath})},[u,C]),y=(0,i.useFragment)(a(72930),t),S=(0,s.useMemo)(()=>({viewer:y}),[y]),b=(0,s.useMemo)(()=>({shouldShowSignupWall:!y.uid,setSignupWallVisible:u,signupWallVisible:n,setTriggerSource:x,signupWallTriggerSource:_,isLoadingAfterSignupOrLogin:m,setIsLoadingAfterSignupOrLogin:h}),[y.uid,u,n,_,x,m,h]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(f.Provider,{value:b,children:m?(0,o.jsx)(c.Sz,{}):(0,o.jsxs)(o.Fragment,{children:[r,n&&(0,o.jsx)(g.Z,{isOpen:n,onRequestClose:v,body:importSignupWallModal,bodyProps:S})]})})})}},69295:function(e,t,a){"use strict";a.d(t,{Bb:function(){return f},DF:function(){return c},F_:function(){return h},PL:function(){return p},Xd:function(){return d},oM:function(){return g},t9:function(){return m}});var r=a(85893),n=a(41664),o=a.n(n),l=a(67294),s=a(34616),i=a(10864),u=a.n(i);let d=(0,l.forwardRef)((e,t)=>{let{variant:a="secondary",href:n,target:i,className:d,icon:c,children:p,onClick:g,...m}=e,f=!l.Children.toArray(p).length;return n?(0,r.jsxs)(o(),{href:n,target:i,className:(0,s.$)(u().buttonBase,u()[a],d,f&&u().iconOnly),onClick:g,ref:t,children:[c,p]}):(0,r.jsxs)("button",{...m,className:(0,s.$)(u().buttonBase,u()[a],d,f&&u().iconOnly),onClick:g,ref:t,children:[c,p]})});d.displayName="ButtonBase";let c=(0,l.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(d,{...a,ref:t,variant:"primary"})});c.displayName="ButtonPrimary";let p=(0,l.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(d,{...a,ref:t,variant:"secondary"})});p.displayName="ButtonSecondary";let g=(0,l.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(d,{...a,ref:t,variant:"tertiary"})});g.displayName="ButtonTertiary";let m=(0,l.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(d,{...a,ref:t,variant:"flat"})});m.displayName="ButtonFlat";let f=(0,l.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(d,{...a,ref:t,variant:"danger"})});f.displayName="ButtonDanger";let h=(0,l.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsx)(d,{...a,ref:t,variant:"chatShare"})});h.displayName="ButtonShareChat"},41019:function(e,t,a){"use strict";var r=a(85893),n=a(67294),o=a(83253),l=a.n(o),s=a(39620),i=a(34616),u=a(57138),d=a(50530),c=a(82686),p=a.n(c),g=a(69295),m=a(34950),f=a(75704),h=a(30791);let parentSelector=()=>document.body;l().setAppElement("#__next");let _={height:200},ModalLoadingState=e=>{let{modalStyles:t}=e,[a,o]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=window.setTimeout(()=>{o(!0)},200);return()=>{window.clearTimeout(e)}},[]),(0,r.jsx)("article",{style:t||_,children:a&&(0,r.jsx)(f.Sz,{})})},modalErrorFallback=e=>{let{error:t}=e;return(0,r.jsx)(ModalErrorState,{error:t})},ModalErrorState=e=>{let{error:t}=e,a=(0,u.Ej)(t);return(0,r.jsxs)("article",{className:p().errorState,children:["statusCode"in t&&(0,d.hj)(t.statusCode)&&(0,r.jsx)("h1",{children:t.statusCode}),(0,r.jsx)("p",{children:a})]})};t.Z=e=>{let{isOpen:t,onRequestClose:a,body:o,bodyProps:u,modalHeight:d,useMinHeight:c=!1,useIncreasedHeightInCompactScreen:f=!1,actions:_,headerActions:x,customHeaderStyle:C,customButtonStyle:v,shouldCloseOnOverlayClick:y=!0,variant:S="regular",showCloseButton:b=!0}=e,j=(0,n.useMemo)(()=>void 0===d?void 0:c?{minHeight:d}:{height:d},[d,c]),M=(0,n.useMemo)(()=>(0,n.lazy)(o),[o]),B=(0,n.useRef)(null);return(0,r.jsxs)(l(),{isOpen:t,onRequestClose:a,parentSelector:parentSelector,shouldCloseOnOverlayClick:y,shouldReturnFocusAfterClose:!0,overlayClassName:p().overlay,className:(0,i.$)(p().modal,"compact"===S&&p().modalCompact,f&&p().modalIncreasedHeight),children:[(0,r.jsxs)("div",{className:(0,i.$)(p().header,C),children:[b&&(0,r.jsx)(g.t9,{className:(0,i.$)(p().closeButton,p().closeFlatButton,v),onClick:a,"aria-label":"close modal",children:(0,r.jsx)(s.Z,{})}),_&&(0,r.jsx)("div",{className:p().actionsWrapper,children:_}),x&&(0,r.jsx)("div",{className:p().headerActionsWrapper,children:x})]}),(0,r.jsx)("article",{ref:B,style:j,className:p().modalBody,children:(0,r.jsx)(h.f.Provider,{value:B,children:(0,r.jsx)(m.Z,{fallback:modalErrorFallback,children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(ModalLoadingState,{modalStyles:j}),children:(0,r.jsx)(M,{...u})})})})}),_&&(0,r.jsx)("div",{className:p().footer,children:(0,r.jsx)("div",{className:p().actionsWrapper,children:_})})]})}},30791:function(e,t,a){"use strict";a.d(t,{f:function(){return n}});var r=a(67294);let n=(0,r.createContext)(null)},3597:function(e,t,a){"use strict";a.d(t,{Z:function(){return poe_PoeLogo}});var r=a(85893),n=a(25675),o=a.n(n),l=a(41664),s=a.n(l),i=a.p+"static/media/poeFull.3d3546d6.svg",u=a.p+"static/media/poeFullWhite.fc732b75.svg",d=a(67294),c=a(16990),p=a(69208),g=a(34616),m=a(53099),f=a.n(m),poe_PoeLogo=e=>{let{className:t,isCollapsed:a,...n}=e,l=(0,d.useContext)(p.c),m=l.isEmbed,{setLeftSidebar:h}=(0,c.Qp)(),_=(0,d.useCallback)(()=>{h(()=>c.PI.DEFAULT)},[h]),x=l.isEmbed?"/".concat(encodeURIComponent(l.botDisplayName)):"/";return(0,r.jsxs)(s(),{href:x,className:(0,g.$)(f().logoWrapper,t),target:m?"_blank":void 0,onClick:_,"data-collapsed":a,children:[(0,r.jsx)(o(),{...n,className:f().lightLogo,src:i,alt:"Poe",fill:!0,"data-collapsed":a}),(0,r.jsx)(o(),{...n,className:f().darkLogo,src:u,alt:"Poe",fill:!0,"data-collapsed":a})]})}},82686:function(e){e.exports={medium:"only screen and (min-width : 685px)","compact-only":"only screen and (max-width : 684px)",overlay:"Modal_overlay___PrHh",modal:"Modal_modal__I_dBM",modalIncreasedHeight:"Modal_modalIncreasedHeight__TbIpS",modalCompact:"Modal_modalCompact__BQhmu",modalBody:"Modal_modalBody__BX0qa",header:"Modal_header__9MUIZ",actionsWrapper:"Modal_actionsWrapper__FyX5h",headerActionsWrapper:"Modal_headerActionsWrapper__3JP4U",closeButton:"Modal_closeButton__GycnR",footer:"Modal_footer__R7iNP",errorState:"Modal_errorState__7CZ5n"}},53099:function(e){e.exports={lightLogo:"PoeLogo_lightLogo__XWN_1",darkLogo:"PoeLogo_darkLogo__4KLOp",logoWrapper:"PoeLogo_logoWrapper__x7XQY"}}}]);