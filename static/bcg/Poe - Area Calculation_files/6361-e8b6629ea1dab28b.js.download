(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6361],{11924:function(e,n,t){"use strict";t.r(n);let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoCardHeader_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{args:null,kind:"FragmentSpread",name:"BotOperatedByText_bot"},{args:null,kind:"FragmentSpread",name:"BotImage_bot"},{args:null,kind:"FragmentSpread",name:"IdAnnotation_node"}],type:"Bot",abstractKey:null};a.hash="cebca17e46ec171c1fd047bd27799a0e",n.default=a},29028:function(e,n,t){"use strict";t.r(n);let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoCardHeader_viewer",selections:[{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'}],type:"Viewer",abstractKey:null};a.hash="be1000d753d33b7c300f8f75c88910c1",n.default=a},99020:function(e,n,t){"use strict";t.r(n);let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotOperatedByText_bot",selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{args:null,kind:"FragmentSpread",name:"UserHandle_user"}],storageKey:null}],type:"Bot",abstractKey:null};a.hash="66016ff250918224ab9a50eb9e2c63bc",n.default=a},18773:function(e,n,t){"use strict";t.r(n);let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LoginStatusContextWrapper_viewer",selections:[{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};a.hash="e90b07f525a729d379d67d8d23638ddb",n.default=a},59537:function(e,n,t){"use strict";t.r(n);let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserHandle_user",selections:[{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},{args:null,kind:"FragmentSpread",name:"IdAnnotation_node"}],type:"PoeUser",abstractKey:null};a.hash="6fc5f49bffad23a888eae98bab172305",n.default=a},42456:function(e,n,t){"use strict";var a,r;t.r(n);let i={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"subscriptions"}],kind:"Fragment",metadata:null,name:"loggedOutUsageHelper_maybeCreateLoggedOutUser_Mutation",selections:r=[{alias:null,args:[{kind:"Variable",name:"subscriptions",variableName:"subscriptions"}],concreteType:"MaybeCreateLoggedOutUser",kind:"LinkedField",name:"maybeCreateLoggedOutUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUserPresent",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowInitialSignupWall",storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"loggedOutUsageHelper_maybeCreateLoggedOutUser_Mutation",selections:r},params:{id:"86b48736138ecc4f2553fc9cd1bb167a783cef79b9e59b6fca653261d1df8653",metadata:{},name:"loggedOutUsageHelper_maybeCreateLoggedOutUser_Mutation",operationKind:"mutation",text:null}};i.hash="2424d7816ab0dca981469a8ed023e2b8",n.default=i},78806:function(e,n,t){"use strict";var a=t(85893),r=t(67294),i=t(22578),o=t(83156),l=t(98476),s=t(16990),u=t(2012),d=t(65869),c=t(69208),g=t(34616),p=t(76257),m=t.n(p),f=t(47547),h=t(65615);let onUserHandleClick=e=>{e.stopPropagation()};n.Z=e=>{let{bot:n,viewer:p,showFollowerCount:b=!1,showMonthlyActiveUserCount:_=!1,imageSize:v=70,shouldOpenSidebar:y=!1}=e,C=(0,i.useFragment)(t(11924),n),{decoupleBotHandleAndName:S}=(0,i.useFragment)(t(29028),p),w=(0,r.useContext)(c.c),{isLoggedInUser:k}=(0,u.b)(),U=!w.isEmbed,{setRightSidebar:A}=(0,s.Qp)(),I=(0,r.useMemo)(()=>y?()=>{A(()=>s.PI.OPEN)}:void 0,[y,A]);return(0,a.jsxs)("section",{className:(0,g.$)(m().header,k&&I&&m().clickable),onClick:k?I:void 0,children:[_&&(0,a.jsxs)("div",{className:m().botInfoHeaderContainer,children:[(0,a.jsxs)("div",{className:m().botImageAndNameContainer,children:[(0,a.jsx)(f.Z,{bot:C,size:v}),(0,a.jsxs)("div",{className:m().headerInfo,children:[(0,a.jsx)("h2",{className:m().botName,children:C.displayName}),(0,a.jsx)(d.Z,{node:C}),S&&(0,a.jsx)("div",{className:m().botHandle,children:"@".concat(C.handle)}),U&&!S&&(0,a.jsx)("div",{className:m().operatedBy,children:(0,a.jsx)(h.Z,{bot:C,onUserHandleClick:onUserHandleClick})})]})]}),_&&(0,a.jsxs)("div",{className:m().followerAndActiveUserCountContainer,children:[!C.isSystemBot&&C.monthlyActiveUsers&&(0,a.jsx)("div",{className:m().activeUserCount,children:(0,a.jsx)(o.Z,{monthlyActiveUsersCount:C.monthlyActiveUsers})}),!C.isSystemBot&&_&&C.monthlyActiveUsers&&b&&C.followerCount>0&&(0,a.jsx)("div",{className:m().separatorElement,children:"\xb7"}),b&&C.followerCount>0&&(0,a.jsx)("div",{className:m().followerCount,children:(0,a.jsx)(l.Z,{count:C.followerCount})})]})]}),!_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{bot:C,size:v}),(0,a.jsxs)("div",{className:m().headerInfo,children:[(0,a.jsx)("h1",{children:C.displayName}),(0,a.jsx)(d.Z,{node:C}),S&&(0,a.jsx)("div",{className:m().botHandle,children:"@".concat(C.handle)}),U&&!S&&(0,a.jsx)("div",{className:m().operatedBy,children:(0,a.jsx)(h.Z,{bot:C,onUserHandleClick:onUserHandleClick})}),b&&C.followerCount>0&&(0,a.jsx)("div",{className:m().followerCount,children:(0,a.jsx)(l.Z,{count:C.followerCount})})]})]})]})}},83156:function(e,n,t){"use strict";var a=t(85893),r=t(67294),i=t(22120);n.Z=e=>{let{monthlyActiveUsersCount:n}=e,{t}=(0,i.$G)(),o=(0,r.useMemo)(()=>t("formattedMonthlyActiveUsersCount",{count:n,val:n,notation:"compact",compactDisplay:"short",defaultValue:"{{val, number}} monthly users",defaultValue_one:"{{val, number}} monthly user"}),[n,t]);return(0,a.jsx)(a.Fragment,{children:o})}},65615:function(e,n,t){"use strict";var a=t(85893);t(67294);var r=t(22120),i=t(22578),o=t(65660);n.Z=e=>{let{bot:n,onUserHandleClick:l}=e,s=(0,i.useFragment)(t(99020),n),{t:u}=(0,r.$G)(),{creator:d}=s,c=d?(null==d?void 0:d.isDeleted)?u("Operated by [deleted]"):(0,a.jsxs)(a.Fragment,{children:[u("Operated by")," ",(0,a.jsx)(o.Z,{user:d,onClick:l})]}):(0,a.jsx)(a.Fragment,{children:u("Operated by Poe")});return(0,a.jsx)(a.Fragment,{children:c})}},98476:function(e,n,t){"use strict";var a=t(85893),r=t(67294),i=t(22120);n.Z=e=>{let{count:n}=e,{t}=(0,i.$G)(),o=(0,r.useMemo)(()=>t("formattedFollowerCount",{count:n,val:n,notation:"compact",compactDisplay:"short",defaultValue:"{{val, number}} followers",defaultValue_one:"{{val, number}} follower"}),[n,t]);return(0,a.jsx)(a.Fragment,{children:o})}},2012:function(e,n,t){"use strict";t.d(n,{b:function(){return useLoginStatusContext}});var a=t(85893),r=t(67294),i=t(22578);let useLoginStatusContext=()=>{let{isLoggedInUser:e}=r.useContext(o);return{isLoggedInUser:e}},o=r.createContext({isLoggedInUser:!1});n.Z=e=>{let{viewer:n,children:l}=e,s=(0,i.useFragment)(t(18773),n),u=!!s.poeUser,d=(0,r.useMemo)(()=>({isLoggedInUser:u}),[u]);return(0,a.jsx)(o.Provider,{value:d,children:l})}},6793:function(e,n,t){"use strict";t.d(n,{Dl:function(){return redirectToLoginPageForSocialSignupAttemptMissingBirthday},Ho:function(){return redirectToLoginPageForSocialSignupAttemptMissingEmail},PW:function(){return redirectToDesktopAppLoggedOutPage},SN:function(){return setRedirectUrlQueryParamForCurrentUrl},Sh:function(){return useOnLoginSuccess},Tt:function(){return getLoginUrlForEmbedPage},X0:function(){return redirectToLoginPage},b8:function(){return redirectToLoggedInHomePage},bU:function(){return S},bl:function(){return i},dh:function(){return removeRedirectUrlQueryParamFromCurrentUrl},gA:function(){return getRedirectUrlFromSignupLoginResponse},gS:function(){return getDefaultUserVerificationErrorMessage},gW:function(){return getDesktopAppOpenPageUrl},h2:function(){return hasUserStartedSignupFlow},n$:function(){return o},o1:function(){return maybeGetRedirectUrl},q2:function(){return w},qN:function(){return redirectToLoginPageForAppleSignupObfuscatedEmail},yn:function(){return getDefaultLoginErrorMessage}});var a,r,i,o,l=t(11163),s=t(67294),u=t(22120),d=t(2197),c=t(90289),g=t(66795),p=t(53533),m=t(46857),f=t(75408),h=t(90578),b=t(50530);let getDefaultUserVerificationErrorMessage=e=>e("Something went wrong. Please wait a moment and try again."),getDefaultLoginErrorMessage=e=>e("An error occurred, please try again."),_="apple_optional_email",v="missing_email",y="missing_birthday",C="signup_method",S="redirect_url",redirectToLoginPageForAppleSignupObfuscatedEmail=(e,n)=>{redirectToLoginPage(e,n,{[_]:"1"})},redirectToLoginPageForSocialSignupAttemptMissingBirthday=(e,n,t)=>{redirectToLoginPage(e,t,{[y]:"1",[C]:n})},hasUserStartedSignupFlow=e=>"/login"===e.pathname&&("1"===e.query[y]||"1"===e.query[v]||"1"===e.query[_]||!!e.query[C]),redirectToLoginPageForSocialSignupAttemptMissingEmail=(e,n)=>{redirectToLoginPage(e,n,{[v]:"1"})},redirectToLoginPage=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.replace({pathname:"/login",query:{...t,[S]:null!=n?n:"/"}})},redirectToDesktopAppOpenPage=(e,n)=>{let t=getDesktopAppOpenPageUrl(n);e.replace(t)},redirectToDesktopAppLoggedOutPage=e=>e.replace("/desktop_app_logged_out"),maybeGetDesktopAppLoginRequestCode=e=>{let n=e.query.desktop_app_login_request_code;if((0,b.HD)(n)&&n.length>0)return n},setRedirectUrlQueryParamForCurrentUrl=(e,n)=>{e.replace({query:{...e.query,[S]:n}})},removeRedirectUrlQueryParamFromCurrentUrl=e=>{let n={...e.query};delete n[S],e.replace({query:n})},getLoginUrlForEmbedPage=()=>"/login?".concat(S,"=").concat(encodeURIComponent("/close_window")),getDesktopAppOpenPageUrl=e=>"/desktop_app_open?desktop_app_login_request_code=".concat(encodeURIComponent(e)),redirectToLoggedInHomePage=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.replace(n?"/?".concat("login_success","=1"):"/")},maybeGetRedirectUrl=e=>{let n=e.query[S];if((0,b.HD)(n)&&n.length>0)return n},getRedirectUrlFromSignupLoginResponse=e=>{let{redirectChatCode:n,redirectUrl:t}=e;if(n)return"/chat/".concat(n);if(t){let e=t.split("?")[1];if(e){let n=new URLSearchParams(e).get(S);if(n)return n}}return null!=t?t:void 0},useOnLoginSuccess=()=>{let{t:e}=(0,u.$G)(),n=(0,l.useRouter)(),t=(0,f.AO)(),a=(0,d.ZP)(),r=(0,g.q)(),i=(0,s.useCallback)(n=>a({content:n?e("You have successfully signed up"):e("You have successfully logged in"),type:d.pC.success}),[a,e]);return(0,s.useCallback)(async e=>{let{isSignUp:a,isEligibleForRedirectToLoggedInHomePage:o=!0,showLoginSuccessToastAfterRedirectingToHomePage:l=!1,redirectUrl:s=maybeGetRedirectUrl(n),loginRequestCode:u=maybeGetDesktopAppLoginRequestCode(n)}=e;if(a?await (0,m.hP)("sng_complete_registration"):await (0,m.hP)("sng_login"),await (0,p.sr)(),await (0,h.FV)(),u){i(!1),redirectToDesktopAppOpenPage(n,u);return}s?(s===n.asPath&&i(a),await n.replace(s)):o?redirectToLoggedInHomePage(n,l):i(a),r(),(0,c.E)(),t(!0)},[n,t,r,i])};(a=i||(i={}))[a.loginStarted=0]="loginStarted",a[a.signupStarted=1]="signupStarted",a[a.signupContinued=2]="signupContinued",a[a.signupContinuedCodeSent=3]="signupContinuedCodeSent",a[a.signupContinuedBirthdayRequired=4]="signupContinuedBirthdayRequired",(r=o||(o={}))[r.emailAddress=0]="emailAddress",r[r.phoneNumber=1]="phoneNumber";let w=/^[0-9]{6,}$/i},65660:function(e,n,t){"use strict";var a=t(85893),r=t(25675),i=t.n(r),o=t(41664),l=t.n(o),s=t(97894);t(67294);var u=t(22578),d=t(2012),c=t(65869),g=t(6890),p=t(40097),m=t.n(p);n.Z=e=>{let{user:n,onClick:r}=e,o=(0,u.useFragment)(t(59537),n),p=(0,g.a)(),{isLoggedInUser:f}=(0,d.b)(),{fullName:h,profilePhotoUrl:b,nullableHandle:_}=o;if(!_)return null;let v="/".concat(_).concat(!f&&p?"?logged_out_chat=1":"");return(0,a.jsxs)("div",{className:m().userHandleContainer,children:[(0,a.jsx)(i(),{className:m().creatorImage,src:null!=b?b:s.Z,alt:null!=h?h:"",width:18,height:18}),(0,a.jsx)(l(),{className:m().creatorHandle,href:v,onClick:r,children:"@"+_}),(0,a.jsx)(c.Z,{node:o})]})}},6890:function(e,n,t){"use strict";t.d(n,{a:function(){return useIsLoggedOutUsageEnabledFromCurrentUrl},v:function(){return useLoggedOutUserInitializer}});var a=t(11163),r=t(67294),i=t(22578);t(44311);var o=t(75408);let l=t(42456),useLoggedOutUserInitializer=e=>{let{isLoggedIn:n,onCompleted:t}=e,[a]=(0,i.useMutation)(l);(0,r.useEffect)(()=>{n||a({variables:{subscriptions:o.yW.subscriptions},onCompleted:e=>{let{maybeCreateLoggedOutUser:{isLoggedOutUserPresent:n,shouldShowInitialSignupWall:a}}=e;t(n,a)}})},[])},useIsLoggedOutUsageEnabledFromCurrentUrl=()=>{let e=(0,a.useRouter)();return!!["/[handle]","/chat/[chat]","/chats","/embed/[handle]"].includes(e.pathname)||e.isReady&&e.asPath.includes("logged_out_chat")}},74929:function(e,n,t){"use strict";t.d(n,{ED:function(){return isWindows},G6:function(){return isSafari},I6:function(){return isAndroidDevice},P:function(){return isDesktopApp},Sf:function(){return getAppVersion},Vg:function(){return isMacApp},au:function(){return isIOSDevice},eE:function(){return isMacOS},k6:function(){return isIOSApp},pE:function(){return isNativeApp},pl:function(){return isWindowsApp},s2:function(){return isMobileDevice}});let a=["up.browser","up.link","windows ce","iemobile","mini","mmp","symbian","midp","wap","phone","pocket","mobile","pda","psp","opera mobi","silk","linux zvav","(webos/"],r=new Set(["acs-","alav","alca","amoi","audi","aste","avan","benq","bird","blac","blaz","brew","cell","cldc","cmd-","dang","doco","eric","hipt","inno","ipaq","java","jigs","kddi","keji","leno","lg-c","lg-d","lg-g","lge-","maui","maxo","midp","mits","mmef","mobi","mot-","moto","mwbp","nec-","newt","noki","opwv","palm","pana","pant","pdxg","phil","play","pluc","port","prox","qtek","qwap","sage","sams","sany","sch-","sec-","send","seri","sgh-","shar","sie-","siem","smal","smar","sony","sph-","symb","t-mo","teli","tim-","tosh","tsm-","upg1","upsi","vk-v","voda","w3c","wap-","wapa","wapi","wapp","wapr","webc","winw","winw","xda","xda-"]),contains=(e,n)=>!!e&&!!n&&(null==e?void 0:e.toLowerCase().indexOf(n.toLowerCase()))!==-1,isWindowsPhone=e=>contains(e,"windows phone"),isIOSDevice=e=>!!(null==e?void 0:e.match(/iPhone|iPad|iPod/i)),isAndroidDevice=e=>contains(e,"android")&&!isWindowsPhone(e),isAndroidApp=e=>contains(e,"android")&&(null==e?void 0:e.startsWith("Poe")),isIOSApp=e=>isIOSDevice(e)&&(null==e?void 0:e.startsWith("Poe")),isNativeApp=e=>isIOSApp(e)||isAndroidApp(e),isMobileDevice=e=>{if(contains(e,"windows")&&!contains(e,"windows ce")&&!isWindowsPhone(e))return!1;if(isIOSDevice(e)||isAndroidDevice(e)||a.some(n=>contains(e,n)))return!0;if(e){let n=e.toLowerCase().slice(0,4);if(r.has(n))return!0}return!1},isMacOS=e=>contains(e,"mac"),isMacApp=e=>isMacOS(e)&&(null==e?void 0:e.startsWith("Poe")),isWindows=e=>contains(e,"windows"),isWindowsApp=e=>isWindows(e)&&(null==e?void 0:e.startsWith("Poe")),isDesktopApp=e=>isMacApp(e)||isWindowsApp(e)||contains(e,"electron"),i=RegExp("(?:Athena|Poe) (?<version>.*) rv:(?<build_number>\\d+) env:(?<env>\\w+) \\((?<device>.+?); (?<os>.+?); (?<locale>.+)\\)"),getAppVersion=e=>{if(e.match(i)){var n;let t=i.exec(e);if(null==t?void 0:null===(n=t.groups)||void 0===n?void 0:n.version)return t.groups.version}return"0.0.0"},isSafari=e=>isMacOS(e)&&contains(e,"safari")&&!contains(e,"chrome")},46857:function(e,n,t){"use strict";let a;t.d(n,{Rz:function(){return useInitSingular},h0:function(){return getSingularDeviceId},hP:function(){return singularEvent}});var r=t(67294);let i="quora_b_46ba1291c98480d9dde6fed2b16c7cae__90053357",o="aff4cbc69cc3fee7a3b851fb6c40fed3",l="com.poe",initSingular=async()=>{await loadAndInitSingularSdk()},useInitSingular=()=>{(0,r.useEffect)(()=>{initSingular()},[])},loadAndInitSingularSdk=async()=>(a||(a=_loadAndInitSingularSdk()),await a),_loadAndInitSingularSdk=async()=>{let e=await t.e(8961).then(t.t.bind(t,58961,23)),{singularSdk:n,SingularConfig:a}=e;return await new Promise(e=>{if(n&&a&&i&&o&&l){let t=new a(i,o,l);t.withInitFinishedCallback(()=>e()),n.init(t)}}),e},singularEvent=async e=>{let n=await loadAndInitSingularSdk();return n.singularSdk.event(e)},getSingularDeviceId=async()=>{let e=await loadAndInitSingularSdk();return e.singularSdk.getSingularDeviceId()}},76257:function(e){e.exports={header:"BotInfoCardHeader_header__eRPV0",headerInfo:"BotInfoCardHeader_headerInfo___mKxl",botName:"BotInfoCardHeader_botName__IPFrb",botImageAndNameContainer:"BotInfoCardHeader_botImageAndNameContainer__7_ac_",botInfoHeaderContainer:"BotInfoCardHeader_botInfoHeaderContainer__rIcfG",botHandle:"BotInfoCardHeader_botHandle__NhS9G",operatedBy:"BotInfoCardHeader_operatedBy__G5WAP",followerAndActiveUserCountContainer:"BotInfoCardHeader_followerAndActiveUserCountContainer__sVUj_",followerCount:"BotInfoCardHeader_followerCount__nrf6H",activeUserCount:"BotInfoCardHeader_activeUserCount__TBJP4",separatorElement:"BotInfoCardHeader_separatorElement__2g_2m",clickable:"BotInfoCardHeader_clickable__BEuO5"}},40097:function(e){e.exports={userHandleContainer:"UserHandle_userHandleContainer__gfA69",creatorImage:"UserHandle_creatorImage__ZTeVf",creatorHandle:"UserHandle_creatorHandle__aNMAK"}}}]);